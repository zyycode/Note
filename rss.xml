<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Blog]]></title><description><![CDATA[A starter blog demonstrating what Gatsby can do.]]></description><link>https://zyycode.github.com/Note</link><generator>GatsbyJS</generator><lastBuildDate>Fri, 18 Nov 2022 08:29:42 GMT</lastBuildDate><item><title><![CDATA[前端工程化之 CI CD]]></title><description><![CDATA[前端的发展 在讲前端工程化之前，我们先了解下前端的发展史。前端的发展史可以大致分为三个阶段：前端史前记忆的青铜时代、进入发展期的白银时代和从前端到全端的黄金时代。 青铜时代：谷歌基于 Ajax 发 Gmail 标志着 Web 1.0（静态网页） 到 Web 2.…]]></description><link>https://zyycode.github.com/Note/f2e-CI-CD/</link><guid isPermaLink="false">https://zyycode.github.com/Note/f2e-CI-CD/</guid><pubDate>Thu, 30 Dec 2021 15:18:24 GMT</pubDate><content:encoded>&lt;h1&gt;前端的发展&lt;/h1&gt;
&lt;p&gt;在讲前端工程化之前，我们先了解下前端的发展史。前端的发展史可以大致分为三个阶段：前端史前记忆的&lt;strong&gt;青铜时代&lt;/strong&gt;、进入发展期的&lt;strong&gt;白银时代&lt;/strong&gt;和从前端到全端的&lt;strong&gt;黄金时代&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;青铜时代：谷歌基于 Ajax 发 Gmail 标志着 Web 1.0（静态网页） 到 Web 2.0（动态网页） 迈进。&lt;/p&gt;
&lt;p&gt;白银时代：最直观的表现就是前后端分离，前端和后端主要就通过 Ajax 进行交互。前端需要做的事情也更多，保存数据、处理数据、生成视图等。&lt;/p&gt;
&lt;p&gt;黄金时代：新一代前端框架的出现 angular、React、Vue。这些框架的出现极大的提升了开发效率，也使 JS 成为前端开发的主流语言。同时也出现了前端工程化体系，持续集成、持续部署、线上监控，增强了前端开发的规范性。&lt;/p&gt;
&lt;p&gt;前端未来的发展，随着 Web 3.0 的出现，可能会在去中心化（区块链技术）、人工智能等方向。&lt;/p&gt;
&lt;p&gt;我记的我刚开始实习的时候，主要的工作内容就是写 HTML、CSS 和 JS，前端将写完的 HTML 文件给后端，后端使用的 PHP，然后再将 HTML 文件的动态内容进行替换。现在看起来这样的开发效率是十分低下的。&lt;/p&gt;
&lt;p&gt;上述的发展也就是在近一二十年的过程，我认为之所以发展这么快的原因在于互联网的快速发展而出现的大量业务需求导致出现的问题，从而驱动了技术的发展。&lt;/p&gt;
&lt;p&gt;其实最开始没有前端的概念，页面都是由后端编写，基本通过超链接进行交互。随着 Ajax 技术的出现，前端才迎来了真正的发展。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;需求&lt;/strong&gt;：页面不仅仅只是展示，需要满足更多交互，例如动画等（最开始都问前端是干嘛的 - 切图仔）。怎么去实现这些交互，所以出现了 JS（10天创造出来的JS），随着 JS 语言的发展，前端拥有了更大的舞台。JS 最开始分为 DOM 和 BOM ，有本书《JavaScript DOM 编程艺术》就是专门将 JS 的 DOM 操作。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;需求&lt;/strong&gt;：DOM 操作存在大量，重复的操作。出现了 jQuery库，对 DOM 操作进行了封装，提高了开发效率。既然 JS 都能操作 DOM，是不是就没必要去写 HTML 了？导致了模板到数据思维模式的转变，数据驱动视图（MVC、MVVM思想），从模板语言（ejs）到框架的发展。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;需求&lt;/strong&gt;：DOM 操作是昂贵的，JS 操作是成本小的。出现了虚拟DOM的技术方案，用 JS 对象去模拟 DOM 元素，通过对比两个对象的差异，再去执行 DOM 操作。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;需求&lt;/strong&gt;：随着项目的复杂性，代码量的增大就有了维护的问题。出现了模块化和工程化。&lt;/p&gt;
&lt;p&gt;业务和技术是相辅相成的，业务驱动技术，技术反哺业务。技术最终还是需要服务于业务。&lt;/p&gt;
&lt;h1&gt;前端工程化&lt;/h1&gt;
&lt;p&gt;广义的前端工程化：&lt;/p&gt;
&lt;p&gt;前端工程是软件工程的一个子类，指的是将软件工程的方法和原理运用在前端开发中, 目的是实现 &lt;strong&gt;高效开发&lt;/strong&gt;，&lt;strong&gt;有效协同&lt;/strong&gt;，&lt;strong&gt;质量可控&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;狭义的前端工程化：&lt;/p&gt;
&lt;p&gt;前端工程是指将 &lt;strong&gt;开发阶段&lt;/strong&gt; 的代码转变成 &lt;strong&gt;生产环境&lt;/strong&gt; 的代码的 一系列步骤。主要包括 &lt;strong&gt;构建 , 分支管理 , 自动化测试, 部署&lt;/strong&gt; 等。&lt;/p&gt;
&lt;p&gt;例子：茅草屋到高楼大厦的过程，也是一个工程化的过程。&lt;/p&gt;
&lt;p&gt;以前造房子基本都有靠泥瓦匠几个人就可以完成，但随着需要造楼的楼越来越高，造的速度要越来越快，所以就需要借助工具和机器来完成，从而形成了工程化。&lt;/p&gt;
&lt;p&gt;前端工程化的特点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;自动化&lt;/li&gt;
&lt;li&gt;规范化&lt;/li&gt;
&lt;li&gt;傻瓜化&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;部署系统&lt;/h1&gt;
&lt;p&gt;构建部署的工作流程&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://s3.us-west-2.amazonaws.com/secure.notion-static.com/1c404771-3c3e-43d3-8276-9d042d57afdb/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;#x26;X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&amp;#x26;X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20211230%2Fus-west-2%2Fs3%2Faws4_request&amp;#x26;X-Amz-Date=20211230T072514Z&amp;#x26;X-Amz-Expires=86400&amp;#x26;X-Amz-Signature=d1e34ef17817e703d0a2f6bd2fc39a60f30a4e3d944a3474d00c1f0b3d5d5cf6&amp;#x26;X-Amz-SignedHeaders=host&amp;#x26;response-content-disposition=filename%20%3D%22Untitled.png%22&amp;#x26;x-id=GetObject&quot; alt=&quot;部署流程&quot;&gt;&lt;/p&gt;
&lt;p&gt;主要环节：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Webhook：Webhook 是一种不同服务之间，通过订阅或推送模式来传递信息的消息通知机制。部署系统将一个 Webhook 接口注册到代码管理系统（CVS）中。开发人员提交代码后，触发 CVS 的 Webhook，由 CVS 将提交事件通知给部署系统。&lt;/li&gt;
&lt;li&gt;项目构建：部署系统在获取提交代码的消息后会创建构建任务，并推入待执行队列中，系统将依次执行任务队列中的构建任务。构建任务在执行时依次执行代码获取、依赖安装、代码构建和产物打包等环节。&lt;/li&gt;
&lt;li&gt;产物部署：构建完成后的发布代码一般分为两种模式：Push 模式和 Pull 模式。在 Push 模式下，由部署系统通过 SCP 等方式将产物包推送到目标服务器，并执行解压重启等发布流程。在 Pull 模式下会提供下载接口，由下游发布环节调用，然后获取产物包以便执行后续发布流程。同时，下游环节会调用反馈接口，将发布结果反馈至部署系统。&lt;/li&gt;
&lt;li&gt;结果反馈：构建结果与部署结果会通过通知模块（消息、邮件等）的方式，反馈至开发与测试人员。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;CI/CD&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Continuous_integration&quot;&gt;持续集成&lt;/a&gt;（Continuous Integration，CI）和&lt;a href=&quot;https://en.wikipedia.org/wiki/Continuous_delivery&quot;&gt;持续交付&lt;/a&gt;（Continuous Delivery，CD），是软件生产领域提升迭代效率的一种工作方式：开发人员提交代码后由 CI/CD 系统自动化地执行合并、构建、测试和部署等一系列管道化（Pipeline）的流程，从而尽早发现和反馈代码问题，以小步快跑的方式加速软件的版本迭代过程。&lt;/p&gt;
&lt;p&gt;这个过程通常是各系统（版本管理系统、构建系统、部署系统等）以自动化的方式协同完成的。&lt;/p&gt;
&lt;p&gt;CI：持续集成。频繁的将代码集成到主干&lt;/p&gt;
&lt;p&gt;CD：持续部署。代码通过测试评审后，自动部署到生产环境。&lt;/p&gt;
&lt;p&gt;简单来说就是用工具来替代人力，开发者将更多的时间用在开发上。持续交付、敏捷开发的概念。其实目的主要为了提高开发的效率。&lt;/p&gt;
&lt;p&gt;举个例子：以前造房子的泥瓦匠需要自己和水泥，砌砖，现在和水泥可以用机器来替代。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://s3.us-west-2.amazonaws.com/secure.notion-static.com/d72b7107-d0e0-4b6f-9329-43a781b508ae/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;#x26;X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&amp;#x26;X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20211230%2Fus-west-2%2Fs3%2Faws4_request&amp;#x26;X-Amz-Date=20211230T072534Z&amp;#x26;X-Amz-Expires=86400&amp;#x26;X-Amz-Signature=fd03704857c06ee251539bbff101ebb39e17061aca0598df993c21698a9f4065&amp;#x26;X-Amz-SignedHeaders=host&amp;#x26;response-content-disposition=filename%20%3D%22Untitled.png%22&amp;#x26;x-id=GetObject&quot; alt=&quot;Untitled&quot;&gt;&lt;/p&gt;
&lt;h3&gt;部署工具&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;https://s3.us-west-2.amazonaws.com/secure.notion-static.com/a7c4776f-fb6f-40a3-ac22-c547a19d97b8/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;#x26;X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&amp;#x26;X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20211230%2Fus-west-2%2Fs3%2Faws4_request&amp;#x26;X-Amz-Date=20211230T073159Z&amp;#x26;X-Amz-Expires=86400&amp;#x26;X-Amz-Signature=30e3982e484f7a8262a33ffd79051c8055e93eaea3bb46b5dccc2d4d63d63917&amp;#x26;X-Amz-SignedHeaders=host&amp;#x26;response-content-disposition=filename%20%3D%22Untitled.png%22&amp;#x26;x-id=GetObject&quot; alt=&quot;Untitled&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在这四款工具中，Jenkins 是诞生最早也最广为人知的，它的优点在于插件功能丰富且完全开源免费，因此在企业中应用较多。但缺点在于缺少特定语言环境工作流的配置模板，使用成本相对较高。此外，它的服务器需要独立部署和运维。&lt;/li&gt;
&lt;li&gt;CircleCI 和 Github Actions 都提供了基于容器化的云端服务的能力，提供不同的收费策略以满足普通小型开源项目和大型私有项目的各类需求。两者相比，CircleCI 胜在除了对接 Github 中的项目外，还支持 BitBucket、Heroku 等平台的流程对接。而 Github Actions 则是 Github 项目中内置的 CI/CD 工具，使用成本最低，且提供了矩阵运行、多容器测试、多工作流模板等特色功能。&lt;/li&gt;
&lt;li&gt;Gitlab CI 则是企业中较受欢迎的版本管理工具。Gitlab 中内置 CI/CD 工具，和 CircleCI 与 Github Actions 相同的是，Gitlab CI 也使用 yml 格式的配置文件，不同之处主要在于需要独立安装与配置 Runner。&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;Jenkins&lt;/th&gt;
&lt;th&gt;CircleCI&lt;/th&gt;
&lt;th&gt;GitHub Actions&lt;/th&gt;
&lt;th&gt;Gitlab CI&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;多系统&lt;/td&gt;
&lt;td&gt;Linux / Mac / Windows&lt;/td&gt;
&lt;td&gt;云服务化&lt;/td&gt;
&lt;td&gt;云服务化&lt;/td&gt;
&lt;td&gt;Linux / Mac / Windows&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;多语言&lt;/td&gt;
&lt;td&gt;支持&lt;/td&gt;
&lt;td&gt;支持&lt;/td&gt;
&lt;td&gt;支持&lt;/td&gt;
&lt;td&gt;支持&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;多环境&lt;/td&gt;
&lt;td&gt;支持&lt;/td&gt;
&lt;td&gt;支持&lt;/td&gt;
&lt;td&gt;支持&lt;/td&gt;
&lt;td&gt;支持&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;特性&lt;/td&gt;
&lt;td&gt;插件系统&lt;/td&gt;
&lt;td&gt;配置简化&lt;/td&gt;
&lt;td&gt;多容器测试&lt;/td&gt;
&lt;td&gt;Gitlab Runner&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;费用&lt;/td&gt;
&lt;td&gt;免费&lt;/td&gt;
&lt;td&gt;免费 / 收费&lt;/td&gt;
&lt;td&gt;免费 / 收费&lt;/td&gt;
&lt;td&gt;免费 / 收费&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;提高构建效率&lt;/h2&gt;
&lt;p&gt;在提高构建效率前，我们需要准备主要基于时间和基于产物的分析工具，可使用第三方工具，例如 speed-measure-webpack-plugin 和 webpack-bundle-analyzer 插件。&lt;/p&gt;
&lt;h3&gt;编译提效&lt;/h3&gt;
&lt;p&gt;编译提效的优化点主要有三个方向：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;减少执行编译的模块&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;IgnorePlugin&lt;/strong&gt;，构建时直接剔除需要排除的模块。例如 moment 等国际化依赖包，大多数只需要引入本国的语言包。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;按需引入类库模块。&lt;/strong&gt;这种方式一般适用于工具类库性质的依赖包的优化，例如 lodash，除了声明时指定特定模块之外，还可以使用 babel-plugin-lodash 或 babel-plugin-import 等插件。Tree Shaking 一特性也能减少产物包的体积，但有两点需要注意：1. 导入的依赖包需要使用 ES6 模块化，而 lodash 还是 Common JS，需要替换为 lodash-es 才能生效。2. 响应操作是在优化阶段进行，换句话说 Tree Shaking 并不能减少模块编译阶段的构建时间。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DllPlugin&lt;/strong&gt;，&lt;strong&gt;DllReferencePlugin&lt;/strong&gt;。核心思想是将项目依赖的框架等模块单独构建打包。&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Externals&lt;/strong&gt;。和  DllPlugin 解决同一类问题，主要区别：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ol&gt;
&lt;li&gt;externals 配置更简单，DllPlugin 需要独立的配置文件。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;DllPlugin 包含了依赖包的独立构建流程，而 externals 配置中不包含依赖框架的生成方式，通常使用已传入 CDN 的依赖包。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;externals 配置的依赖包需要单独指定依赖模块的加载方式：全局对象、CommonJS、AMD 等。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;在引用依赖包的子模块时，DllPlugin 无须更改，而 externals 则会将子模块打入项目包中。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;提升单个模块的构建的速度&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;include/exclude&lt;/strong&gt;。include 的用途是只对符合条件的模块使用指定 Loader 进行转换处理。exclude 则正相反，不对特定条件的模块使用该 Loader。当 include 和 exclude 配置冲突时，exclude 优先级更高。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;noParse&lt;/strong&gt;。在上述 include/exclude 的基础上，进一步省略了使用默认 js 模块编译器进行编译的时间。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Source Map。&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TypeScript 编译优化。&lt;/strong&gt; 使用 ts-loader 或使用 babel-loader。其中，在使用 ts-loader 时，由于 ts-loader 默认在编译前进行类型检查，因此编译时间往往比较慢。通过加上配置项 transpileOnly: true，可以在编译时忽略类型检查，从而大大提升 TS 模块的编译速度。不过单独使用这一功能就丧失了 TS 中重要的类型检查功能，因此在许多脚手架中往往配合 ForkTsCheckerWebpackPlugin 一同使用。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Resolve&lt;/strong&gt;。Webpack 中的 resolve 配置制定的是在构建时指定查找模块文件的规则&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;并行构建以提升总体效率&lt;/p&gt;
&lt;p&gt;并行构建的方案早在 Webpack 2 时代已经出现，随着目前最新稳定版本 Webpack 4 的发布，人们发现在一般项目的开发阶段和小型项目的各构建流程中已经用不到这种并发的思路了，因为在这些情况下，并发所需要的多进程管理与通信所带来的额外时间成本可能会超过使用工具带来的收益。但是在大中型项目的生产环境构建时，这类工具仍有发挥作用的空间。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;HappyPack&lt;/strong&gt; 与 &lt;strong&gt;thread-loader&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;parallel-webpack&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;打包提效&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;面向 JS 的压缩工具。&lt;/p&gt;
&lt;p&gt;Webpack 4 中内置了 &lt;a href=&quot;https://www.npmjs.com/package/terser-webpack-plugin&quot;&gt;TerserWebpackPlugin&lt;/a&gt; 作为默认的 JS 压缩工具，之前的版本则需要在项目配置中单独引入，早期主要使用的是 &lt;a href=&quot;https://www.npmjs.com/package/uglifyjs-webpack-plugin&quot;&gt;UglifyJSWebpackPlugin&lt;/a&gt;。这两个 Webpack 插件内部的压缩功能分别基于 &lt;a href=&quot;https://www.npmjs.com/package/terser&quot;&gt;Terser&lt;/a&gt; 和 &lt;a href=&quot;https://github.com/mishoo/UglifyJS&quot;&gt;UglifyJS&lt;/a&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;面向 CSS 的压缩工具。&lt;/p&gt;
&lt;p&gt;CSS 同样有几种压缩工具可供选择：&lt;a href=&quot;https://www.npmjs.com/package/optimize-css-assets-webpack-plugin&quot;&gt;OptimizeCSSAssetsPlugin&lt;/a&gt;（在 Create-React-App 中使用）、&lt;a href=&quot;https://www.npmjs.com/package/@intervolga/optimize-cssnano-plugin&quot;&gt;OptimizeCSSNanoPlugin&lt;/a&gt;（在 VUE-CLI 中使用），以及&lt;a href=&quot;https://www.npmjs.com/package/css-minimizer-webpack-plugin&quot;&gt;CSSMinimizerWebpackPlugin&lt;/a&gt;（2020 年 Webpack 社区新发布的 CSS 压缩插件）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Split Chunk 分包&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Tree Shaking&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ES6 模块，因为依赖关系是静态分析的，而 Common JS 类型的模块是运行时。&lt;/li&gt;
&lt;li&gt;引入方式：以 default 方式引入的模块，无法被 Tree Shaking；而引入单个导出对象的方式，无论是使用 import * as xxx 的语法，还是 import {xxx} 的语法，都可以进行 Tree Shaking。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;无包构建&lt;/h3&gt;
&lt;p&gt;基于浏览器的 JS 模块加载功能。主流的构建工具有 snowpack、vite。&lt;/p&gt;
&lt;p&gt;为什么要使用构建工具？对于普通项目，要使用这种加载方案会有几个主要问题：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;许多其它类型的文件需要编译处理才能被浏览器正常加载（JSX、Vue、TS、CSS）。&lt;/li&gt;
&lt;li&gt;许多第三方依赖包通过第三方URL引用时，不仅过程繁琐，而且难以进行灵活的版本控制。&lt;/li&gt;
&lt;li&gt;一些辅助的开发技术，例如热更新还需要构建工具来提供。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;无包构建的优点：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;初次构建速度快&lt;/strong&gt;。打包构建流程在初次启动时需要进行一系列的模块依赖分析与编译，而在无包构建流程中，这些工作都是在浏览器渲染页面时异步处理的，启动服务时只需要做少量的优化处理即可（例如缓存项目依赖的 Bare Modules），所以启动非常快。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;按需编译&lt;/strong&gt;。在打包构建流程中，启动服务时即需要完整编译打包所有模块，而无包构建流程是在浏览器渲染时，根据入口模块分析加载所需模块，编译过程按需处理，因此相比之下处理内容更少，速度也会更快。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;增量构建速度快&lt;/strong&gt;。在修改代码后的 rebuild 过程中，主流的打包构建中仍然包含编译被修改的模块和打包产物这两个主要流程，因此相比之下，只需处理编译单个模块的无包构建在速度上也会更胜一筹（尽管在打包构建工具中，也可以通过分包等方式尽可能地减少两者的差距）。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;无包构建的缺点：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;浏览器网络请求数量剧增&lt;/strong&gt;。无包构建最主要面对的问题是，它的运行模式决定了在一般项目里，渲染页面所需发起的请求数远比打包构建要多得多，使得打开页面会产生瀑布式的大量网络请求，将对页面的渲染造成延迟。这对于服务稳定性和访问性能要求更高的生产环境而言，通常是不太能接受的，尤其对不支持 HTTP/2 的服务器而言，这种处理更是灾难性的。因此，一般是在开发环境下才使用无包构建，在生产环境下则仍旧使用打包构建。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;浏览器的兼容性&lt;/strong&gt;。无包构建要求浏览器支持 JavaScript module 特性，尽管目前的主流浏览器已大多支持，但是对于需要兼容旧浏览器的项目而言，仍然不可能在生产环境下使用。而在开发环境下则通常没有这种顾虑。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;提高部署效率&lt;/h2&gt;
&lt;h3&gt;本地部署 vs 部署系统&lt;/h3&gt;
&lt;p&gt;为什么不在开发环境直接部署代码？&lt;/p&gt;
&lt;p&gt;前端项目的一般部署流程：&lt;/p&gt;
&lt;p&gt;获取代码 → 安装依赖 → 源码构建 → 产物打包 → 推送代码 → 重启服务&lt;/p&gt;
&lt;p&gt;本地部署相比部署系统的优势：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在获取代码阶段，本地开发环境已经有了项目代码，不需要重新再拉取。&lt;/li&gt;
&lt;li&gt;在安装依赖阶段，本地开发环境已经构建所需的最新依赖包，即使切换到部署版本有变更，更新时间也更短。&lt;/li&gt;
&lt;li&gt;增量构建，在构建配置与项目依赖不发生变化的情况下，理论上，本地部署可以让构建进程长时间地驻留，以达到增量构建的效果。&lt;/li&gt;
&lt;li&gt;快速调试，本地部署时，构建过程会直接在本地进行，因此有任何构建问题时可以第一时间发现并处理。相比之下，远程的部署系统则需要将一定的时间消耗在链路反馈和本地环境切换上。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;本地部署的缺点：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;流程安全风险&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;环境一致性。同一项目，不同开发人员的环境（系统，Nodejs 版本等）都存在差异，可能会导致打包的产物存在差异。例如 Node 项目，低版本的项目可能在高版本就运行不了。&lt;/li&gt;
&lt;li&gt;过程一致性。尽可能地让每次部署的流程顺序、各环节的处理过程都保持一致，从而打造规范化的部署流程。本地部署依赖人工操作，会存在部署代码覆盖等情况。同时部署系统可以记录每次部署的操作日志，便于出现问题及时解决。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;工作效率问题&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;可回溯性。日志：部署过程中遇到的各种问题（构建、测试、推送代码，重启服务），遇到这些问题都需要响应的日志来帮助定位，本地部署的日志都是临时的，且最多只能保留当前一次的处理日志，如果需要对历史的日志进行分析，就不能使用这种方式。相对的，一个规范性的部署系统，则可以记录和保存每一次部署操作记录的细节日志，以及保存最近若刚次的部署代码，方便回退。&lt;/li&gt;
&lt;li&gt;人员分工。部署代码需要消耗时间。在本地部署某一分支时，不能同时继续开发。若项目有部署权限，不仅会占用开发者的时间，还非常低效。正常情况下，部署流程是有测试人员而非研发人员发起。开发人员集中部署也会增加沟通成本。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;安装提效&lt;/h3&gt;
&lt;p&gt;安装工具 npm、Yarn、Yarn with PnP、Yarn v2、pnpm&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;npm：npm 是 NodeJS 自带的包管理工具，也是使用最广泛的工具之一。&lt;/li&gt;
&lt;li&gt;Yarn：Yarn 是 Facebook 于 2016 年发布的包管理工具，和 npm 5 之前的版本相比，Yarn 在依赖版本稳定性和安装效率方面通常更优（在 Github 中，Yarn 的 star 数量是 npm 的两倍多，可见其受欢迎程度）。&lt;/li&gt;
&lt;li&gt;Yarn with PnP：Yarn 自 1.12 版本开始支持 PnP 功能，旨在抛弃作为包管理目录的 node_modules，而使用软链接到本地缓存目录的方式来提升安装和模块解析的效率。&lt;/li&gt;
&lt;li&gt;Yarn v2：Yarn 在 2020 年初发布了 v2 版本，它和 v1 版本相比有许多重大改变，包括默认使用优化后的 PnP 等。v2 版本目前通过 Set Version 的方式安装在项目内部，而非全局安装。&lt;/li&gt;
&lt;li&gt;pnpm：pnpm 是于 2017 年发布的包管理工具，和 Yarn 相同，它也支持依赖版本的确定性安装特性，同时使用硬连接与符号连接缓存目录的方式，这种方式相比于非 PnP 模式下的 Yarn 安装而言磁盘存储效率更高。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;依赖安装的基本流程：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;解析依赖关系阶段：分析项目中各依赖包的依赖关系和版本信息 &lt;/li&gt;
&lt;li&gt;下载阶段：下载依赖包&lt;/li&gt;
&lt;li&gt;链接阶段：处理项目依赖目录和缓存之间的硬链接和符号连接&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;提升依赖下载速度&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;依赖包下载源：各依赖管理工具默认的下载源都是位于国外的，换成国内的镜像源会对下载速度的提升十分明显。&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;#npm设置下载源&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; config &lt;span class=&quot;token builtin class-name&quot;&gt;set&lt;/span&gt; registry xxxx

&lt;span class=&quot;token comment&quot;&gt;#yarn设置下载源&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;yarn&lt;/span&gt; config &lt;span class=&quot;token builtin class-name&quot;&gt;set&lt;/span&gt; registry xxxx&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;二进制下载源&lt;strong&gt;：&lt;/strong&gt;对于一些依赖包（例如 node-sass 等），在安装过程中还需下载二进制文件，这类文件的下载不遵循 registry 的地址，因此需要对这类文件单独配置下载路径来提升下载速度。&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; config &lt;span class=&quot;token builtin class-name&quot;&gt;set&lt;/span&gt; sass-binary-site https://npm.taobao.org/mirrors/node-sass

&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; config &lt;span class=&quot;token builtin class-name&quot;&gt;set&lt;/span&gt; puppeteer_download_host https://npm.taobao.org/mirrors&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;安装目录缓存&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;缓存写入：在初次安装完成后，我们可以将安装完成后的 node&lt;em&gt;modules 目录内的内容与项目的 package-lock.json 文件的内容进行关联：以 package-lock.json 文件内容的 Hash 值作为缓存的 Key，将 node&lt;/em&gt;modules 目录压缩打包存储到缓存空间内。&lt;/li&gt;
&lt;li&gt;缓存读取：再次执行安装过程时，首先判断当前代码的 package-lock.json 内容的 Hash 值是否能够命中缓存目录中的 Key 值。如果命中缓存，则说明项目的依赖版本并未发生变化，因此可以直接使用缓存中的 node_modules 压缩包解压，无须再执行依赖安装的完整流程。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;提升压缩效率的工具&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Pigz 和 Zstd&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b517bc5a-1e49-4c57-9231-51504ec7e9e0/Untitled.png&quot; alt=&quot;Untitled&quot;&gt;&lt;/p&gt;
&lt;p&gt;从表格中可以发现：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;对于同一款压缩工具来说，压缩等级越低，压缩速度越快。代价是相应的压缩率越低，压缩体积会相应增大。&lt;/li&gt;
&lt;li&gt;同样使用默认压缩等级，Pigz 的压缩速度是 Gzip 的&lt;strong&gt;两倍多&lt;/strong&gt;，而 Zstd 的压缩速度是 Gzip 的&lt;strong&gt;15 倍&lt;/strong&gt;。&lt;/li&gt;
&lt;li&gt;在都使用最高压缩等级的情况下，Pigz 的压缩速度是 Gzip 的&lt;strong&gt;4 倍多&lt;/strong&gt;，而 Zstd 的压缩速度可以达到 Gzip 的&lt;strong&gt;16 倍&lt;/strong&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;因此，在处理大文件目录的打包压缩时，可以考虑使用这些工具来替代默认的 Gzip 压缩方式。&lt;/p&gt;
&lt;h3&gt;容器化方案&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/OS-level_virtualization&quot;&gt;容器化（Containerization）&lt;/a&gt;通常是指以 &lt;a href=&quot;https://www.docker.com/&quot;&gt;Docker&lt;/a&gt; 技术为代表，将操作系统内核虚拟化的技术。和传统的虚拟机相比，容器化具有占用空间更小、性能开销更低、启动更快、支持弹性伸缩以及支持容器间互联等优势。&lt;/p&gt;
&lt;p&gt;通常我们提到的 Docker 是指运行在 Linux/Windows/macOS 中开源的虚拟化引擎，用于创建、管理和编排容器（此外，Docker 也是发布和维护该开源项目的公司名称）。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;镜像&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Docker 中的镜像（Image）是指用于创建容器实例的基础虚拟化模板。对于开发人员来说，可以把镜像理解为编程语言中的类：通过一个镜像可以创建多个容器实例，镜像之间也存在继承关系。通过 Docker 引擎可以构建、删除镜像，还可以将本地镜像 push 到远程仓库或者从远程拉取。例如一个基于 &lt;a href=&quot;https://github.com/nodejs/docker-node/blob/bcd3607a38cdf5529cef9a6ed1163d7e06ddea6d/14/stretch/Dockerfile&quot;&gt;node:14&lt;/a&gt; 的镜像，在创建时不光包含了运行 node14 版本所需的 Linux 系统环境，还包含了额外打入到镜像内的 Yarn 程序。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;容器&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;容器（Container）是 Docker 中的核心功能单元。通常一个容器内包含了一个或多个应用程序以及运行它们所需要的完整相关环境依赖。例如，基于上面例子中的 node:14 镜像，就可以创建出对应版本 NodeJS 的独立运行环境。通过 Docker 引擎可以对容器进行创建、删除、停止、恢复、与容器交互等操作。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;仓库&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;我们可以把构建后的镜像上传到服务器，从而可以在任何地方使用到这个镜像。&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;容器化部署过程的优势&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;环境隔离&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;每个项目在独立的容器内执行构建部署过程，保证容器与宿主环境之间，容器与容器之间的环境隔离，防止原先共用一台服务器时可能产生的互相影响（例如项目脚本中修改了全局配置或环境变量等）。同时，环境隔离还可以保证每个项目都可以自由定制专属的环境依赖，而不必担心对其他项目产生影响。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;多环境构建&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;使用容器化部署，可以方便地针对同一个项目生成多套不同的构建环境，达到类似 Github Actions 中的矩阵构建效果，使项目可以同时检测多套环境下的集成过程。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;便于调试&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;用户可通过 Xterm+SSH 的方式，通过浏览器访问部署系统中的容器环境。同传统的部署方式相比，用容器化的方式可以在部署遇到问题时让用户第一时间进入容器环境中进行现场调试，效率和便捷性大大提升。之前介绍过的部署工具 CircleCI 中就提供了这一调试功能。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;环境一致性与迁移效率&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;由于部署过程的工作环境以 Docker 镜像的方式独立制作和存储，因此可以在支持 Docker 引擎的任意服务器中使用。使用时提供一致的工作环境，无须考虑不同服务器操作系统的差异。在迁移时也可以做到一键迁移，无须重复安装环境依赖。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[面试]]></title><description><![CDATA[Vue v-show 和 v-if 的区别 v-show 通过 CSS display 控制显示和隐藏 v-if 组件真正的渲染和销毁，而不是显示和隐藏 频繁切换显示状态用 v-show，否则用 v-if 为何在 v-for 中使用 key 必须使用 key…]]></description><link>https://zyycode.github.com/Note/interview/</link><guid isPermaLink="false">https://zyycode.github.com/Note/interview/</guid><pubDate>Thu, 07 Jan 2021 16:15:15 GMT</pubDate><content:encoded>&lt;h1&gt;Vue&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;v-show 和 v-if 的区别&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;v-show 通过 CSS display 控制显示和隐藏&lt;/li&gt;
&lt;li&gt;v-if 组件真正的渲染和销毁，而不是显示和隐藏&lt;/li&gt;
&lt;li&gt;频繁切换显示状态用 v-show，否则用 v-if&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;为何在 v-for 中使用 key&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;必须使用 key， 且不能是 index 和 random&lt;/li&gt;
&lt;li&gt;diff 算法中通过 tag 和 key 来判断，是否是 sameNode&lt;/li&gt;
&lt;li&gt;减少渲染次数，提升渲染性能&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;描述 Vue 组件生命周期（父子组件）&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;单组件生命周期图&lt;/li&gt;
&lt;li&gt;父子组件生命周期关系&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;渲染 -&gt; 更新 -&gt; 销毁&lt;/p&gt;
&lt;h3&gt;组件的渲染与更新。&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;初次渲染过程&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;解析模板为 render 函数（或在开发环境已经完成，vue-loader）&lt;/li&gt;
&lt;li&gt;触发响应式，监听 data 属性 getter setter&lt;/li&gt;
&lt;li&gt;执行 render 函数，生成 vnode ， patch(elem, vnode)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;更新过程&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;修改 data ，触发 setter （此前在 getter 中已监听）&lt;/li&gt;
&lt;li&gt;重新执行 render 函数，生成 newVnode&lt;/li&gt;
&lt;li&gt;patch(vnode, newVnode)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;异步渲染&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;$nextTick&lt;/li&gt;
&lt;li&gt;汇总 data 的修改，一次性更新视图&lt;/li&gt;
&lt;li&gt;减少 DOM 操作次数，提高性能&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;React&lt;/h1&gt;
&lt;h3&gt;event 事件&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;event 是 SyntheticEvent （组合事件），模拟出来 DOM 事件所有能力&lt;/li&gt;
&lt;li&gt;event.nativeEvent 是原生事件对象&lt;/li&gt;
&lt;li&gt;所有的事件，都是挂载到 document 上&lt;/li&gt;
&lt;li&gt;和 DOM 事件不一样，和 Vue 事件也不是一样&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;React 为什么使用合成事件&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;更好的兼容性和跨平台&lt;/li&gt;
&lt;li&gt;挂载到 document ，减少内存消耗，避免频繁解绑&lt;/li&gt;
&lt;li&gt;方便事件的统一管理（事务机制）&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;React 事务机制&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/**
 * &amp;lt;pre&gt;
 *                                 wrappers (创建时注入)
 *                                      +        +
 *                                      |        |
 *                    +-----------------|--------|--------------+
 *                    |                 v        |              |
 *                    |      +---------------+   |              |
 *                    |   +--|    wrapper1   |---|----+         |
 *                    |   |  +---------------+   v    |         |
 *                    |   |          +-------------+  |         |
 *                    |   |     +----|   wrapper2  |--------+   |
 *                    |   |     |    +-------------+  |     |   |
 *                    |   |     |                     |     |   |
 *                    |   v     v                     v     v   | wrapper
 *                    | +---+ +---+   +---------+   +---+ +---+ | invariants
 * perform(任何方法)   | |   | |   |   |         |   |   | |   | | maintained
 * +-----------------&gt;|-|---|-|---|--&gt;| 任何方法 |---|---|-|---|-|--------&gt;
 *                    | |   | |   |   |         |   |   | |   | |
 *                    | |   | |   |   |         |   |   | |   | |
 *                    | |   | |   |   |         |   |   | |   | |
 *                    | +---+ +---+   +---------+   +---+ +---+ |
 *                    |  initialize                    close    |
 *                    +-----------------------------------------+
 * &amp;lt;/pre&gt;
 */&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;组件使用&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;props 传递数据&lt;/li&gt;
&lt;li&gt;props 传递函数&lt;/li&gt;
&lt;li&gt;props 类型检查&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;setState&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;不可变值&lt;/li&gt;
&lt;li&gt;可能是异步更新&lt;/li&gt;
&lt;li&gt;可能会被合并&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;直接使用是异步的， 在自定义的 DOM 事件和 setTImeout 里使用时同步的。&lt;/p&gt;
&lt;h3&gt;React 组件渲染和更新&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;组件渲染过程&lt;/li&gt;
&lt;li&gt;props state&lt;/li&gt;
&lt;li&gt;render() 生成 vnode&lt;/li&gt;
&lt;li&gt;patch(elem, vnode)&lt;/li&gt;
&lt;li&gt;组件更新过程&lt;/li&gt;
&lt;li&gt;setState(newState) -&gt; dirtyComponents （可能是自组件）&lt;/li&gt;
&lt;li&gt;render() 生成 newVnode&lt;/li&gt;
&lt;li&gt;patch(vnode, newVnode)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;patch 被拆分为两个阶段：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;reconciliation 阶段 - 执行 diff 算法，纯 JS 计算&lt;/li&gt;
&lt;li&gt;commit 阶段 - 将 diff 结果渲染到 DOM&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;可能会存在的性能问题&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;JS 是单线程，且和 DOM 渲染共用一个线程&lt;/li&gt;
&lt;li&gt;当组件足够复杂，组件计算和渲染都压力大&lt;/li&gt;
&lt;li&gt;同时再有 DOM 操作需求（动画，鼠标拖拽等），将卡顿&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;解决方案 fiber&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;将 reconiliation 阶段进行任务拆分（commit 无法拆分）&lt;/li&gt;
&lt;li&gt;DOM 需要渲染时暂停，空闲时恢复&lt;/li&gt;
&lt;li&gt;window.requestIdleCallback 判断是否渲染&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;React 性能优化&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;渲染列表加 key&lt;/li&gt;
&lt;li&gt;自定义事件、DOM 事件及时销毁&lt;/li&gt;
&lt;li&gt;合理使用异步组件&lt;/li&gt;
&lt;li&gt;减少函数 bind this 次数&lt;/li&gt;
&lt;li&gt;合理使用 SCU PureComponent 和 memo&lt;/li&gt;
&lt;li&gt;使用 Immutable.js&lt;/li&gt;
&lt;li&gt;webpack 层面优化&lt;/li&gt;
&lt;li&gt;前端通用性能优化，如图片懒加载&lt;/li&gt;
&lt;li&gt;使用 SSR&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;React 和 Vue 的区别&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;都支持组件化&lt;/li&gt;
&lt;li&gt;都是数据驱动视图&lt;/li&gt;
&lt;li&gt;都是使用 vdom 操作 DOM&lt;/li&gt;
&lt;li&gt;React 使用 JSX 拥抱 JS， Vue 使用模板拥抱 html&lt;/li&gt;
&lt;li&gt;React 函数式编程，Vue 声明式编程&lt;/li&gt;
&lt;li&gt;React 更多需要自力更生，Vue 把想要的都给你&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;webpack 高级配置&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;多入口&lt;/li&gt;
&lt;li&gt;抽离 css 文件&lt;/li&gt;
&lt;li&gt;抽离公共代码&lt;/li&gt;
&lt;li&gt;懒加载&lt;/li&gt;
&lt;li&gt;处理 JSX @babel/preset-jsx&lt;/li&gt;
&lt;li&gt;处理 Vue vue-loader&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;module chunk bundle 的区别&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;module - 各个源码文件，webpack 中一切皆模块&lt;/li&gt;
&lt;li&gt;chunk - 多模块合并成的，如 entry import() splitChunk&lt;/li&gt;
&lt;li&gt;bundle - 最终输出文件&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;webpack 性能优化&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;优化打包构建速度 - 开发体验和效率&lt;/li&gt;
&lt;li&gt;优化 babel-loader&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  test&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token regex&quot;&gt;/\.js$/&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  use&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;babel-loader?cacheDirectory&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 开启缓存&lt;/span&gt;
  include&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;src&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 明确范围&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// // 排除范围，include 和 exclude 两者选一&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// exclude: path.resolve(__dirname, &apos;node_modules&apos;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;IngorePlugin 避免引入无用模块&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 手动引入中文语言包&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// import &apos;moment/locale/zh-cn&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;webpack&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;IngorePlugin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token regex&quot;&gt;/\.\/locale/&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token regex&quot;&gt;/moment/&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;noParse 避免重复打包&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  module&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 单独完整的 react.min.js 文件就没有采用模块化&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 忽略 react.min.js 文件的递归解析处理&lt;/span&gt;
    noParse&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token regex&quot;&gt;/react\.min\.js$/&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;happyPack 多进程打包&lt;/li&gt;
&lt;li&gt;ParallelUglifyPlugin 多进程压缩 JS&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; HappyPack &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;happypack&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ParalleUglifyPlugin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;webpack-parallel-uglify-plugin&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;expores &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  module&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    rules&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        test&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token regex&quot;&gt;/\.js$/&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 将对 .js 文件的处理交给 id 为 babel 的 HappyPack 的实例&lt;/span&gt;
        use&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;happypack/loader?id=babel&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        include&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;src&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  plugins&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HappyPack&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// 用唯一的标识符 id 来代表当前的 HappyPack 是用来处理一类特定的文件&lt;/span&gt;
      id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;babel&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      loaders&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;babel-loader?cacheDirectory&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// 使用 ParalleUglifyPlugin 并行压缩输出的 JS 代码&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ParalleUglifyPlugin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// 传递给 UglifyJS 参数&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// （还是使用 UglifyJS 压缩，只不过帮助开启了多进程）&lt;/span&gt;
      UglifyJS&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        output&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          beautify&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 最紧凑输出&lt;/span&gt;
          comments&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 删除所有的注释&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        compress&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token comment&quot;&gt;// 删除所有的 console 语句，可以兼容 ie 浏览器&lt;/span&gt;
          drop_console&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token comment&quot;&gt;// 内嵌定义了但是只用到一次的变量&lt;/span&gt;
          collapse_vers&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token comment&quot;&gt;// 提取出出现多次但是没有定义成变量去引用的静态值&lt;/span&gt;
          reduce_vars&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;自动刷新&lt;/li&gt;
&lt;li&gt;热更新&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;DllPlugin 动态链接库插件&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;webpack 已内置 DLLPlugin 支持&lt;/li&gt;
&lt;li&gt;DllPlugin - 打包出 dll 文件&lt;/li&gt;
&lt;li&gt;DllReferencePlugin - 使用 dll 文件&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;优化产出代码 - 产品性能&lt;/li&gt;
&lt;li&gt;小图片 base64 编码&lt;/li&gt;
&lt;li&gt;bundle 加 hash&lt;/li&gt;
&lt;li&gt;懒加载 - 异步加载&lt;/li&gt;
&lt;li&gt;提取公共代码&lt;/li&gt;
&lt;li&gt;IngorePlugin&lt;/li&gt;
&lt;li&gt;使用 CDN 加速&lt;/li&gt;
&lt;li&gt;使用 production&lt;/li&gt;
&lt;li&gt;Scope Hosting&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;项目流程&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;需求分析&lt;/li&gt;
&lt;li&gt;技术方案设计&lt;/li&gt;
&lt;li&gt;开发&lt;/li&gt;
&lt;li&gt;联调&lt;/li&gt;
&lt;li&gt;QA 测试&lt;/li&gt;
&lt;li&gt;上线&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;需求分析&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;了解背景&lt;/li&gt;
&lt;li&gt;质疑需求是否合理&lt;/li&gt;
&lt;li&gt;需求是否闭环&lt;/li&gt;
&lt;li&gt;开发难度如何&lt;/li&gt;
&lt;li&gt;是否需要其他支持&lt;/li&gt;
&lt;li&gt;不要急于给排期&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;技术方案设计&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;求简，不过度设计&lt;/li&gt;
&lt;li&gt;产出文档&lt;/li&gt;
&lt;li&gt;找准设计重点&lt;/li&gt;
&lt;li&gt;组内评审&lt;/li&gt;
&lt;li&gt;和 RD CRD 沟通&lt;/li&gt;
&lt;li&gt;发出会议结论&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;开发&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;如何返回排期（预留时间）&lt;/li&gt;
&lt;li&gt;符合开发规范&lt;/li&gt;
&lt;li&gt;写出开发文档&lt;/li&gt;
&lt;li&gt;及时单元测试&lt;/li&gt;
&lt;li&gt;Mock API&lt;/li&gt;
&lt;li&gt;Code Review&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;联调&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;和 RD CRD 技术联调&lt;/li&gt;
&lt;li&gt;让 UE 确定视觉效果&lt;/li&gt;
&lt;li&gt;让 PM 确定产品功能&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;PM 加需求怎么办？&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;不能决绝，走需求变更流程即可&lt;/li&gt;
&lt;li&gt;如果公司有规定，则按规定走&lt;/li&gt;
&lt;li&gt;否则，发起项目组合 leader 的评审，重新评估排期&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;React Hooks&lt;/h2&gt;
&lt;h3&gt;函数组件的特定&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;没有组件实例&lt;/li&gt;
&lt;li&gt;没有生命周期&lt;/li&gt;
&lt;li&gt;没有 state 和 setState ，只能接受 props&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;class 组件的问题&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;大型组难拆分和重构，很难测试（即 class 不易拆分）&lt;/li&gt;
&lt;li&gt;相同业务逻辑，分散到各个方法中，逻辑混乱（请求数据 mounted updated 重复）&lt;/li&gt;
&lt;li&gt;复用逻辑的复杂，如 Mixins、HOC、Render Prop&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;React 组件更易用函数表达&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;React 提倡函数式编程，view = fn(props)&lt;/li&gt;
&lt;li&gt;函数更灵活，更易拆分，更易测试&lt;/li&gt;
&lt;li&gt;但函数组件太简单，需要增强能力 - Hooks&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;State Hook&lt;/h3&gt;
&lt;p&gt;让函数组件实现 state 和 setState&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;默认函数组件没有 state&lt;/li&gt;
&lt;li&gt;函数组件是一个个纯函数，执行完即销毁，无法存储 state&lt;/li&gt;
&lt;li&gt;需要 state Hook ，即把 state 功能 “钩” 到纯函数中&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Effect Hook&lt;/h3&gt;
&lt;p&gt;让函数组件模拟生命周期
让纯函数有了副作用
模拟 WillUnMounted 生命周期，但是不等于&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;默认函数组件没有生命周期&lt;/li&gt;
&lt;li&gt;函数组件是一个纯函数，执行完即销毁，自己无法实现生命周期&lt;/li&gt;
&lt;li&gt;使用 Effect Hook 把生命周期 “钩” 到纯函数中&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;useMemo 和 useCallback&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;useMemo 缓存数据&lt;/li&gt;
&lt;li&gt;useCallback 缓存函数&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;自定义 Hook&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;封装通用功能&lt;/li&gt;
&lt;li&gt;开发和使用第三方 Hooks&lt;/li&gt;
&lt;li&gt;自定义 Hook 带来了无限的扩展性，解耦代码&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useState&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useEffect &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; axios &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;axios&quot;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 封装 axios 发送网络请求的自定义 Hook&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useAxios&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;loading&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setLoading&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setData&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setError&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 利用 Axios 发送网络请求&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setLoading&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    axios
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setError&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;finally&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setLoading&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;loading&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; error&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; useAxios&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Hooks 使用规范&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;只能用于 React 函数组件和自定义 Hook 中，其他地方不可以&lt;/li&gt;
&lt;li&gt;只能用于顶层代码，不能在循环、判断中使用 Hooks&lt;/li&gt;
&lt;li&gt;eslint 插件 eslint-plugin-react-hooks&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Mixins 问题&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;变量作用域来源不清&lt;/li&gt;
&lt;li&gt;属性重名&lt;/li&gt;
&lt;li&gt;Mixins 引入过多会导致顺序冲突&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Hoc 问题&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;组件层级嵌套过多，不易渲染，不易调试&lt;/li&gt;
&lt;li&gt;HOC 会劫持 props ，必须严格遵守规范，容易出疏漏&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Render Prop 问题&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;学习成本高，不易理解&lt;/li&gt;
&lt;li&gt;只能传递纯函数，而默认情况下纯函数有限&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;React Hooks 做组件逻辑复用的优点&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;完全符合 Hooks 原有规则，没有其他要求，易理解记忆&lt;/li&gt;
&lt;li&gt;变量作用域明确&lt;/li&gt;
&lt;li&gt;不会产生组件嵌套&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useState&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useEffect &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useMousePositon&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setX&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setY&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;removeMoveHandle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;setX&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientX&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;setY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clientY&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;mousemove&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; removeMoveHandle&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;mousemove&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; removeMoveHandle&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; useMousePositon&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;React Hooks 注意事项&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;useState 初始化值 ，只有第一次有效&lt;/li&gt;
&lt;li&gt;useEffect 内部不能修改 state（依赖为空时，即模拟 DidMount ，re-render 不会重新执行 effect 函数）&lt;/li&gt;
&lt;li&gt;useEffect 可能出现死循环（依赖中有引用类型）&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;为什么会有 React Hooks，解决了什么问题？&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;完善函数组件的能力，函数组件更适合 React 组件&lt;/li&gt;
&lt;li&gt;组件逻辑复用，Hooks 表现更好&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;class 组件正在变得费解，不易拆解，不易测试，逻辑混乱&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DidMount 和 DidUpdate 中获取数据&lt;/li&gt;
&lt;li&gt;DidMount 绑定事件，WillUnMount 解绑事件&lt;/li&gt;
&lt;li&gt;使用 Hooks ，相同的逻辑可分割到一个一个 useEffect 中&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;手写代码&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// -------------------------------------算法题----------------------------------&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/**
 * LeetCode 53
 * 给定一个整数数组 nums ，找到一个具有最大和的连续子数组（子数组最少包含一个元素），返回其最大和。
 * 输入: [-2,1,-3,4,-1,2,1,-5,4]
 * 输出: 6
 * 解释: 连续子数组 [4,-1,2,1] 的和最大，为 6
 */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;maxSubArray&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;nums&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; sum &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; max &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; nums&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; n &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; nums&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sum &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      sum &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; n
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      sum &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; n
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    max &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;max&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; sum&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; max
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// -------------------------------------手写代码--------------------------------&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 节流和防抖&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;debounce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fn&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; delay &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; timer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;timer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;clearTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;timer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    timer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; delay&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// function throttle(fn, delay) {&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//   let flag = true;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//   return function (...args) {&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//     if (!timer) return;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//     flag = false;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//     setTimeout(() =&gt; {&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//       fn.apply(this, args);&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//       flag = true;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//     }, delay)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//   }&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// }&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// function throttle(fn, delay) {&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//   let last = 0;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//   return function (...args) {&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//     let now = Date.now();&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//     if (now - last &amp;lt; delay) return;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//     last = now;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//     fn.apply(this, args);&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//   }&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// }&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;throttle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fn&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; delay&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; timer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; last &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;now &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; last &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; delay &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; timer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;clearTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;timer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      timer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; delay&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      last &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; now
      &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 深拷贝&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cloneDeep&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; map &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WeakMap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 基本数据&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;obj &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; obj
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RegExp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RegExp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;source&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;flags&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;map&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; map&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;arguments&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//   const res = Array.isArray(obj) ? [] : {};&lt;/span&gt;
  obj &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; map&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;item&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; index&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cloneDeep&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; map&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cloneDeep&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; map&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cloneDeep&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; map&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      res&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cloneDeep&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; map&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      res&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; obj&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; res
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 浅拷贝&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;shallowClone&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; target &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;object&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; target &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; cloneTarget &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Array&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; prop &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; target&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;prop&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        cloneTarget&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;prop&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; target&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;prop&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; target
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Write an emitter class:&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/**
  emitter = new Emitter ();
  // 1. Support subscribing to events.
  sub = emitter.subscribe(&apos;event_name&apos;, callback);
  sub2 = emitter.subscribe(&apos;event_name&apos;, callback2);
  // 2. Support emitting events.
  // This particular example should lead to the `callback` above being invoked with `foo` and `bar` as parameters.
  emitter.emit(&apos;event_name&apos;, foo, bar);
  // 3. Support unsubscribing existing subscriptions by releasing them.
  sub.release(); // `sub` is the reference returned by `subscribe` above
*/&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EventEmitter&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;events &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cb&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;events&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;events&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cb&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;events&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;cb&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;emit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;events&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tasks &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;events&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; fn &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; tasks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;arguments&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;off&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cb&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tasks &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;events&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tasks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; index &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; tasks&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findIndex&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; fn &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; cb&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;index &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;events&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;splice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;once&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cb&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; that &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;cb&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      that&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;off&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cb&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fn&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 批量请求函数&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// multiRequest(urls,maxNum)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 1. 批量请求函数，最大并发数maxNum。&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 2. 每当有一个请求返回，就留下一个空位，可以增加新的请求。&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 2. 所有请求完成后，结果按照urls里面的顺序依次打出。&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;multiRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;urls&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; maxNum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; len &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; urls&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;len&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; count &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; maxNum&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; current &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; count&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;current &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; len&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;includes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; url &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; urls&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          result&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; res
          &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;current &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; len&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          result&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; err
          &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;current &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; len&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// JS实现一个带并发限制的异步调度器Scheduler，保证同时运行的任务最多有两个。完善代码中Scheduler类，使得以下程序能正确输出&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Scheduler&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;maxCount &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;maxCount &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; maxCount
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;quene &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;task &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;promiseCreator&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;quene&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;promiseCreator&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;task&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;maxCount &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;quene&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; task &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;quene&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;shift&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; promise &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;task&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;task&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;splice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;task&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;promise&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;task&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;promise&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; promise
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;race&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;task&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;timeout&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;time&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; time&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; scheduler &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Scheduler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;addTask&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;time&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; order&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  scheduler&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;timeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;time&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;order&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;addTask&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;addTask&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;2&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;addTask&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;300&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;3&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;addTask&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;4&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// output: 2 3 1 4&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 一开始，1、2两个任务进入队列&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 500ms时，2完成，输出2，任务3进队&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 800ms时，3完成，输出3，任务4进队&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 1000ms时，1完成，输出1&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 1200ms时，4完成，输出4&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 手写Promise.all&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// https://zhuanlan.zhihu.com/p/41502945&lt;/span&gt;

Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;myAll&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;promises&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; count &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; len &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; promises&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; p &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; promises&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          res&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;count&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data
          &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;len &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; count&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; promise1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; promise2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;42&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; promise3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;foo&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;myAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;promise1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; promise2&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; promise3&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;values&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// -------------------------------------面试题----------------------------------&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// koa 基本API是如何的，简述下洋葱圈模型，请实现一个处理 Middleware 的函数&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// type Middleware = (ctx: object, next: () =&gt; Promise&amp;lt;void&gt;) =&gt; Promise&amp;lt;void&gt;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// function processMiddleware(middlewares: Middleware[]): Promise&amp;lt;void&gt;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; middlewares &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;m1 before&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;m1 after&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;m2 before&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;m2 after&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/**
 * compose `middleware` returnning
 * a fully vailed middleware comprised
 * of all those which are passed.
 * 将所有中间件组合，返回一个包含所有传入中间件的函数。
 * https://github.com/HXWfromDJTU/blog/issues/11
 * @param {Array} middleware
 * @return {Function}
 */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;compose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;middleware&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 传入的 middleware 必须为数组&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Array&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;middleware&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TypeError&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Middleware stack must be array!&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 任意数组元素必须问函数&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fn &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; middleware&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; fn &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;function&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TypeError&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Middleware must be composed of functions!&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 返回一个每个中间件一次串联的函数闭包&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 其实第一次调用 return fnMiddleware(ctx).then(handleResponse).catch(onerror);&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 时并没有传入第二个next参数，当然也传入不了&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;context&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// last called middleware #&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 这里的 index 是用于防止一个中间件里重复调用 next() 函数，初始值设为 -1&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; inext &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// 启动递归，遍历所有中间件&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// 递归包裹每一个中间件，并且返回一个 Promise 对象&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// 注意随着 next() 执行，i、index + 1、当前中间件的执行下标，在进入每个中间件的时候回相等&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// 每执行一次 next (或者dispatch) 上面三个值都会加 1&lt;/span&gt;

      &lt;span class=&quot;token comment&quot;&gt;/** 原理说明：
       * 当一个中间件调用了两次 next 方法，第一次 next 调用完，洋葱模型走完，index 的值从 -1 变成 middleware.length,
       * 此时第一个某个中间件中的 next 再被调用，那么当时传入的 i + 1 的值，必定是 &amp;lt;= middlewares.length 的
       */&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;next() called mutilple times.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

      &lt;span class=&quot;token comment&quot;&gt;// 通过校验后 index 与 i 同步&lt;/span&gt;
      index &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; i

      &lt;span class=&quot;token comment&quot;&gt;// 取出一个中间件函数&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; fn &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; middleware&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

      &lt;span class=&quot;token comment&quot;&gt;// 若执行到了最后一个，(其实此时的next也一定为undefined),我认为作者是为配合下一句一起判断中间件的终结&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// 这条语句的作用是什么？&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; middleware&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; fn &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; next
      &lt;span class=&quot;token comment&quot;&gt;// 遍历到了最后一个中间件，则返回一个 resolve 状态的 Promise 对象&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;fn&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 递归执行每一个中间件，当前中间件的 第二个 入参为下一个中间件的 函数句柄&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 这里注意：每一个 next 函数，都是下一个 dispatch 函数，而这个函数会返回一个 Promise 对象&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;context&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 中间件执行过程中出错的异常捕获&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// const processMiddleware = (middlewares) =&gt; compose(middlewares)();&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// processMiddleware(middlewares).then(() =&gt; {&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//   console.log(&apos;End&apos;);&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// });&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// m1 before&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// m2 before&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// m2 after&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// m1 after&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// End&lt;/span&gt;

Promise&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 正确输出 4 1 2 3&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;async1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;async1 start&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;async2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;async1 end&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;async2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;promise1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;promise2&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script start&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;setTimeout&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;async1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;promise3&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;promise4&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script end&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// script start&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// async1 start&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// promise1&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// promise3&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// script end&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// promise2&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// async1 end&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// promise4&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// setTimeout&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 字符串大数相加&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;addStrings&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;num1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; num2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; num1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; j &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; num2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; carry &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; j &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; n1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; num1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;charAt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; n2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; j &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; num2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;charAt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;j&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; sum &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; n1 &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; n2 &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; carry
    res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;unshift&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sum &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    carry &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sum &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    i&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;
    j&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;carry &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;unshift&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;carry&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 求平方根&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;mySqrt&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; x
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; left &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; right &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; x
  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;right &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; left &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; mid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;right &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; left&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mid &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; mid &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      right &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; mid
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      left &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; mid
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; left
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 最长公共子串&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 扁平化树结构求最大深度&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;convert&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; map &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; list&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reduce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; v&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;v&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; v&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; item &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; list&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;parentId &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;continue&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;parentId &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; map&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; parent &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; map&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;parentId&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      parent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; parent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      parent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; res
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 语义化版本号大小判断&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;compareVersion&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;version1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; version2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; arr1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; version1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;parseInt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; arr2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; version2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;parseInt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; len &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arr1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; arr2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arr1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; len&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; arr1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arr2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; len&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; arr2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; len&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arr1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; arr2&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arr1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; arr2&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 字符串消除类似于俄罗斯方块&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 六位随机数生成&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 项目中的Bff的主要工作，graphQL的原理&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// React的优化方式&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 页面的访问量，pv大概是多少&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 页面埋点管理的相应数据&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Webpack的打包第三方文件&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// webpack的优化方式&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 编程题：&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//  两个大数的加法&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//  数组扁平化&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;flatten&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;arr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; stack &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;arr&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; res &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stack&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; first &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; stack&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;shift&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Array&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;first&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      stack&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;unshift&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;first&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;first&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; res
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;JSONP&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; url&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; param &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cbKey&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cb &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  param&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;cbKey&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; cbKey
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; newParam &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;param&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;key&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;param&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&amp;amp;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; script &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;script&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  script&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setAttribute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;src&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;url&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;newParam&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;appendChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;script&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ajax&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/**
 * ajax 上传
 * @param {Object} opt
 * @property {string} opt.url 请求地址
 * @property {string} opt.type 请求方法
 * @property {string} opt.dataType 请求返回格式
 * @property {string} opt.async 是否异步
 * @property {number} opt.timeout 超时时间
 * @property {FormData} opt.data 请求内容
 */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ajax&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;opt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;opt &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; opt &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;object&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ajax 配置丢失&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;opt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ajax 的 url 是必须的&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; url &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; opt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      type &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; opt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;type &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;GET&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      dataType &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; opt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dataType &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;json&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      async &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; opt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;async &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;undefined&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;opt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;async&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      timeout &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; opt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;timeout &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30000&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; xhr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;XMLHttpRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;timeout &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; timeout
    xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;responseType &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; dataType
    &lt;span class=&quot;token comment&quot;&gt;// 默认 异步 true&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 同步请求时，xhr.timeout 须为0，xhr.withCredentials 须为false，xhr.responseType须为&quot;&quot;&lt;/span&gt;
    xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; url&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; async&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onload&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;status &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;status &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;300&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;status &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;304&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
        xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;readyState &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;ontimeout&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;请求超时&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onerror&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onabort&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;请求终止&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;onprogress &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; updateProgress
    xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;upload&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;onprogress &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; updateProgress

    &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;updateProgress&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lengthComputable&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; completePercent &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;loaded &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;total
        console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;进度：&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; completePercent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// 触发 xhr.onloadstart 开始计时&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      xhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;opt&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// --------------quickSort------------&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;quickSort&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;array&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;array&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; pivot &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; array&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; left &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; right &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; middle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; val &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; array&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;val &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; array&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;pivot&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      left&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;val&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;val &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; array&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;pivot&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      right&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;val&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      middle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;val&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;quickSort&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;concat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;middle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;quickSort&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;right&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ---------------mergeSort----------------&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;mergeSort&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;arr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 采用自上而下的递归方法&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; len &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; arr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;len &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; arr
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; middle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;len &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    left &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; arr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; middle&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    right &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; arr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;middle&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;merge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mergeSort&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;mergeSort&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;right&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;merge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;left&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; right&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; right&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;shift&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;right&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;shift&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;shift&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;right&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;right&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;shift&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; result
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ---------curry------------&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;curry&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;curried&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 关键知识点：function.length 用来获取函数的形参个数&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 补充：arguments.length 获取的是实参个数&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;args&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;there&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;args2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;curried&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;concat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;args2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 生成新的函数并调用，这里的新函数即 curried&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getRandom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;numCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; numList &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; numMin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100000&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; numMax &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;999999&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; listLen &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; numMax &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; numMin &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; outPut &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 将所有数顺序装填到数字列表中&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; numMin&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; numMax &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    numList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; randNum
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; j &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; j &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; numCount&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; j&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 产生一个小于列表长度的随机数randNum&lt;/span&gt;
    randNum &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; listLen&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 将列表的第randNum项输出&lt;/span&gt;
    outPut&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;numList&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;randNum&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 将列表的最后一项替换到刚被取出的数的位置&lt;/span&gt;
    numList&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;randNum&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; numList&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;listLen &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// 列表长度减一,即列表最后一项不会再被取到;&lt;/span&gt;
    listLen&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; outPut
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; arr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getRandom&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Snabbdom 源码]]></title><description><![CDATA[官方是这么介绍 Snabbdom 的： A virtual DOM library with focus on simplicity, modularity, powerful features and performance…]]></description><link>https://zyycode.github.com/Note/snabbdom/</link><guid isPermaLink="false">https://zyycode.github.com/Note/snabbdom/</guid><pubDate>Mon, 31 Aug 2020 23:18:49 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://github.com/snabbdom/snabbdom&quot;&gt;官方&lt;/a&gt;是这么介绍 Snabbdom 的：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A virtual DOM library with focus on simplicity, modularity, powerful features and performance.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;一个具有简单性、模块化、强大的功能和性能的虚拟 DOM 库。那什么是虚拟 DOM，以及为什么要使用虚拟 DOM 呢？&lt;/p&gt;
&lt;h3&gt;Virtual DOM&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;由普通的 JS 对象来描述 DOM 对象，是对真实 DOM 的一种抽象，因为不是真的 DOM 对象，所以叫 Virtual DOM。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;真实的 DOM&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ele &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;querySelector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.logged-in&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; s &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; key &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; ele&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  s &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; key &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &apos;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;虚拟 DOM&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  el&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &apos;div&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  data&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  text&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Hello World&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  children&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  key&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;为什么要使用 Virtual DOM&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;手动操作 DOM 比较麻烦，虽然有 jQuery 这样的库简化DOM操作，但没有解决大批量操作 DOM 的性能问题（虽然可以使用一些技巧，比如试用 DocumentFragment 将多次 DOM 操作进行一次挂载，但是这样随着项目体积的增加，维护起来非常痛苦）。&lt;/li&gt;
&lt;li&gt;为了简化 DOM 操作出现了各种 MVVM 框架，解决了视图和状态同步问题。&lt;/li&gt;
&lt;li&gt;简化视图的操作可以使用模板引擎，但是模板引擎没有解决跟踪状态变化的问题，于是 Virtual DOM 出现了。&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/Matt-Esch/virtual-dom&quot;&gt;Virtual DOM&lt;/a&gt; 的好处是当状态改变时不需要立即更新 DOM，只需要创建一个虚拟树来描述 DOM，Virtual DOM 内部来更有效的更新 DOM (diff)。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;虚拟 DOM 可以维护程序的状态，跟踪上一次的状态。&lt;/li&gt;
&lt;li&gt;通过比较前后两次状态的差异更新真实 DOM。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Virtual DOM 的作用&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;维护视图和状态的关系&lt;/li&gt;
&lt;li&gt;复杂视图情况下提升渲染性能&lt;/li&gt;
&lt;li&gt;出来渲染真实 DOM 外，还可以实现 SSR(Nuxt.js/Next.js)、原生应用(Weex/React Native)、小程序(mpvue/uni-app)等&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;举个操作真实 DOM 和虚拟 DOM 差异的例子。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Virtual DOM 需要解决的问题&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;高效的 diff 算法，即两个 Virtual DOM 的比较&lt;/li&gt;
&lt;li&gt;只更新需要更新的 DOM 节点&lt;/li&gt;
&lt;li&gt;数据变化检测，批量 DOM 读写操作等等&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Snabbdom 基本使用&lt;/h3&gt;
&lt;p&gt;Snabbdom 的引入方式(ES6 模块和 Common JS 的差异)，同时 v1 版本有所区别。&lt;/p&gt;
&lt;p&gt;snabbdom 主要就几个函数&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;init&lt;/code&gt; 是一个高阶函数，返回 &lt;code class=&quot;language-text&quot;&gt;patch&lt;/code&gt; 函数。&lt;/p&gt;
&lt;p&gt;模块：官方提供了6个模块，attitudes props class dataset eventlisteners style&lt;/p&gt;
&lt;h3&gt;Snabbdom 源码分析&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;如何学习源码：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;先宏观了解&lt;/li&gt;
&lt;li&gt;带着目标看源码&lt;/li&gt;
&lt;li&gt;看源码的过程要不求甚解&lt;/li&gt;
&lt;li&gt;调试&lt;/li&gt;
&lt;li&gt;参考资料（比如网上其他源码分析的文章）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Snabbdom 的核心：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用&lt;code class=&quot;language-text&quot;&gt;h&lt;/code&gt;函数创建 JavaScript 对象（VNode）描述真实 DOM&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;init&lt;/code&gt;设置模块，创建&lt;code class=&quot;language-text&quot;&gt;patch&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;patch&lt;/code&gt;比较新旧两个 VNode&lt;/li&gt;
&lt;li&gt;把变化的内容更新到真实的 DOM 树上&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;init 函数&lt;/h4&gt;
&lt;h4&gt;patch 函数&lt;/h4&gt;
&lt;p&gt;比较新旧两个 VDOM 树并更新&lt;/p&gt;
&lt;h4&gt;h 函数&lt;/h4&gt;
&lt;p&gt;返回一个 vnode 对象。&lt;/p&gt;
&lt;p&gt;Vue 中就有 h 函数&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Vue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;h&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;App&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;$mount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;#app&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;函数的重载：&lt;/strong&gt; &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;参数个数或类型不同的函数&lt;/li&gt;
&lt;li&gt;JavaScript 中没有重载的概念&lt;/li&gt;
&lt;li&gt;TypeScript 中有重载，不过重载的实现还是通过代码调整参数&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;示例：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; b
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; c&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; b &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; c
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;patch 函数&lt;/h4&gt;
&lt;p&gt;打补丁，把新节点中变化的内容渲染到真实 DOM，最后返回新节点作为下一次处理的旧节点。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;对比新旧 VNode 是否是相同的节点（根据节点的 key 和 sel 进行判断；判断两个数的时间复杂度一般是O(n^3), 通过这连个条件可以降低复杂度为O(n)）&lt;/li&gt;
&lt;li&gt;如果不是相同节点，则直接替换&lt;/li&gt;
&lt;li&gt;如果是相同节点，再判断新的 VNode 是否有 text，如果有并且和 oldVNode 的 text 不同，直接更新文本&lt;/li&gt;
&lt;li&gt;如果新的 VNode 有 children，判断子节点是否有变化，判断子节点的过程使用的就是 diff 算法&lt;/li&gt;
&lt;li&gt;diff 过程只进行同层级比较&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;&quot;&gt;React Diff 算法&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;createElm 函数&lt;/h4&gt;
&lt;p&gt;把 vnode 转化为 DOM 元素。&lt;/p&gt;
&lt;p&gt;createElm&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;触发用户钩子函数 init&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;把 vnode 转换为 DOM 对象，存储到 vnode.elm 中（没有渲染到页面）&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;sel 是 !&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;创建注释节点&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;sel 不为空&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;创建对应的 DOM 对象&lt;/li&gt;
&lt;li&gt;触发模块的的狗子函数 create&lt;/li&gt;
&lt;li&gt;创建所有子节点对用的 DOM 对象&lt;/li&gt;
&lt;li&gt;触发用户的的钩子函数 create&lt;/li&gt;
&lt;li&gt;如果 vnode 有 insert 钩子函数，追加到队列&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;sel 为空&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;创建文本节点&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;返回 vnode&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;patchVnode 函数&lt;/h4&gt;
&lt;p&gt;patchVnode&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;触发 prepatch 钩子函数&lt;/li&gt;
&lt;li&gt;触发 update 钩子函数&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;新节点有 text 属性，且不等于旧节点的 text 属性&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果老节点有 children&lt;/li&gt;
&lt;li&gt;移除老节点 children 对应的 DOM 元素&lt;/li&gt;
&lt;li&gt;设置新节点对应 DOM 元素的 textContent&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;新老节点都有 children， 且不相等&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;调用 updateChildren()&lt;/li&gt;
&lt;li&gt;对比子节点，并且更新子节点的差异&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;只有新节点有 children 属性&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果老节点有 text 属性&lt;/li&gt;
&lt;li&gt;清空对应 DOM 元素的 textContent&lt;/li&gt;
&lt;li&gt;添加所有子节点&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;只有老节点有 chidlren 属性&lt;/li&gt;
&lt;li&gt;只有老节点有 text 属性&lt;/li&gt;
&lt;li&gt;触发 postpatch 钩子函数&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[重构]]></title><description><![CDATA[…]]></description><link>https://zyycode.github.com/Note/reading/</link><guid isPermaLink="false">https://zyycode.github.com/Note/reading/</guid><pubDate>Mon, 24 Aug 2020 23:29:15 GMT</pubDate><content:encoded>&lt;h3&gt;重构的原则&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;重构（名词）：&lt;/strong&gt;对软件内部结构的一种调整，目的是在不改变软件可观察行为的前提下，提高其可理解性，降低其修改成本。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;重构（动词）：&lt;/strong&gt;使用一系列重构方法，在不改变软件可观察行为的前提下，调整其结构。&lt;/p&gt;
&lt;p&gt;重构的关键在于运用大量微小且保持软件行为的步骤，一步步达成大规模的修改。可观察行为的意思是经过重构之后的代码应该与重构之前大致一样。重构是为了让代码“更容易理解，更容易修改”，但可能是程序运行的更慢或者更快，与之相似的是&lt;strong&gt;性能优化&lt;/strong&gt;可以是程序运行的更快当时代码可能会更难理解。这两者之间需要更好的平衡。&lt;/p&gt;
&lt;p&gt;为何重构？&lt;br&gt;&lt;strong&gt;&lt;em&gt;重构改进软件的设计&lt;/em&gt;&lt;/strong&gt;。如果没有重构，程序内部的代码（或者叫架构）会变得腐败变质，就像裹脚布又臭又长，变得更难理解以及维护。这是因为人们可能会因为需求的紧急导致在没有完全理解程序的整体设计的情况下，使得代码失去了原有的结构。经常性重构有助于代码维护自己该有的形态。改进设计的一个重要方向就是消除重复代码。&lt;strong&gt;&lt;em&gt;重构是软件更容易理解&lt;/em&gt;&lt;/strong&gt;。编写代码是告诉计算机做什么事，而它的响应事按照我的指示精确行动。所做的事情就是填补“我想要它做什么”和“我告诉它做什么”之间的缝隙。编程的核心就是在于“准确说出我想要”。当然更重要的是阅读我们代码不仅仅是计算机，而是接手我们代码的同行，这才是最重要的。我觉得如何使其他人更好的理解你的代码，需要要个技术文档，在接到需求时，需要先写一份技术文档，主要应该包括需求的理解，程序的设计实现，流程图之类的。编写代码可能只会占35%的时间，就像做题的时候需要打草稿理清解题思路，盖楼前需要有建筑设计图。重构还能帮助找到bug，提高编程速度。&lt;/p&gt;
&lt;h3&gt;第一组重构&lt;/h3&gt;
&lt;h4&gt;1.1 提炼函数 &amp;#x3C;-&gt; 内联函数&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;提炼函数&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;提炼函数。将一些常用的代码放进独立的函数，从复用的角度来看，只要被用过不止一次的代码，就应该单独放进一个函数。最合理的观点是“将意图与实现分开”：如果你需要时间浏览一段代码才能弄秦它到底在干什么，那么就应该将其提炼到一个函数，并根据它所做的事为其命名。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ------------- before ---------------------&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;printOwing&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;invoice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;*************************&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;***** Customer Owes *****&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;*************************&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// calculate outstanding&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; outstanding &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; o &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; invoice&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;orders&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    outstanding &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; o&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;amount&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// print details&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;name: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;invoice&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;customer&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;amount: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;outstanding&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// --------------- after ---------------------&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;printOwing&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;invoice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;printBanner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; outstanding &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;calculateOutstanding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;invoice&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;printDetails&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;outstanding&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 提炼函数&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 无局部变量&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;printBanner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;*************************&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;***** Customer Owes *****&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;*************************&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 有局部变量&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;printDetails&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;outstanding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;name: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;invoice&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;customer&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;amount: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;outstanding&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 如果有些编程语言不支持嵌套函数，则将函数提升到顶层作用域&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 对局部变量再赋值&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;calculateOutstanding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;invoice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 修改变量名易于理解&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; o &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; invoice&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;orders&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    result &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; o&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;amount&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;内联函数&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;当有些函数内部的代码和函数名称同样清晰易读，那就可以去掉这个函数直接使用函数内的代码。还有若函数组织不合理(复杂函数)，可以将它们都内联到一个大的函数里，再以自己喜欢的方式提炼出小函数。
重点在于始终小步前进。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ------------- before ----------------------&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;rating&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;aDriver&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;moreThanFiveLateDeliveries&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;aDriver&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;moreThanFiveLateDeliveries&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;dvr&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; dvr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;numberOfLateDeliveries &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ------------- after -----------------------&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;rating&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;aDriver&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; aDriver&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;numberOfLateDeliveries &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;1.2 提炼变量 &amp;#x3C;-&gt; 内联变量&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;提炼变量&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;表达式有可能非常复杂难以阅读，局部变量可以将逻辑进行分解使得更好的阅读。在使用提炼变量的时候意味着需要将表达式命名，需要考虑这个名字所处的上下文。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ------------- before ----------------------&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// price is base price - quantity discount + shipping&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; order&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;quantity &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; order&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;itemPrice &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; 
    Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; order&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;quantity &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; order&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;itemPrice &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.05&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;order&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;quantity &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; order&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;itemPrice &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ------------- after -----------------------&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 底价&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; basePrice &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; order&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;quantity &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; order&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;itemPrice&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 批发折扣&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; quantityDiscount &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; order&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;quantity &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; order&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;itemPrice &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.05&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 运费&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; shipping &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;basePrice &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; basePrice &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; quantityDiscount &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; shipping&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;内联变量&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;当变量的名字并不比表达式本身更具表现力，这时候就是和用内联的方法消除变量。&lt;/p&gt;
&lt;h4&gt;1.3 改变函数声明&lt;/h4&gt;</content:encoded></item><item><title><![CDATA[Learning Rust Round 1 - Variable]]></title><link>https://zyycode.github.com/Note/rust-learning-0/</link><guid isPermaLink="false">https://zyycode.github.com/Note/rust-learning-0/</guid><pubDate>Sat, 01 Aug 2020 15:00:00 GMT</pubDate><content:encoded></content:encoded></item><item><title><![CDATA[巧用 Win10 分屏功能]]></title><description><![CDATA[一般我会新建三个桌面，一个看文档，一个写代码，另一个看调试结果。虽然可以在一个桌面中直接使用  组合键来进行切换，但是软件多起来就会发现很乱。使用分屏会更加简洁方便。
在切换桌面可以使用 WGestures…]]></description><link>https://zyycode.github.com/Note/win10-screen/</link><guid isPermaLink="false">https://zyycode.github.com/Note/win10-screen/</guid><pubDate>Tue, 15 May 2018 21:00:40 GMT</pubDate><content:encoded>&lt;p&gt;一般我会新建三个桌面，一个看文档，一个写代码，另一个看调试结果。虽然可以在一个桌面中直接使用 &lt;code class=&quot;language-text&quot;&gt;ALT + TAB&lt;/code&gt; 组合键来进行切换，但是软件多起来就会发现很乱。使用分屏会更加简洁方便。
在切换桌面可以使用 &lt;a href=&quot;http://www.yingdev.com/projects/wgestures&quot;&gt;WGestures&lt;/a&gt; 软件，通过鼠标触碰桌面的左上角和右上角来进行切换上下桌面。安装后可以设置一下快捷键，当然也可以直接通过&lt;code class=&quot;language-text&quot;&gt;Win+Ctrl+Left/Right&lt;/code&gt;组合键来切换。如图：
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 578px;&quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 99.32432432432432%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsSAAALEgHS3X78AAACOklEQVQ4y4VU23KbMBTk/78pz31Jp+l4ppmxA8YXMJYBIXQXSKiLSVKncZsdPQhx9mjPTUlGeiGVEIJSGsI0XhFjnK7w3ocQxjcMN8Bn0jTNbrdr2pbSNttutdZKqc1mjcM0zbquK4ojY0zdADY4KYoiEYJ3lHLOcQpTUOHVaG2tNcY45yAK++WuwftluWHAeQLOpb7s8hx3SyH2+902z6E/fkYIcRhel/ej9wmcRyHI4Xg6FqeypLu9Mda4QUp1PBxO5anve+scRNjqrAgxl4skZGrb0doEPyZKv728PGzShzR9+rnqdehMpGo8U0461QrXmalToUlzUhRtWZ2LciTEG5MgsFmPlFGpqLXjgrmJuYjFh8jHecNs7KCPXW1gKUQ0Zs62MXouDCKKURizztL9seR6BKERw4VpqGB65EJxNafRv+VjIZv3jEwhNC2tme5NAJkq38gBm/lTDUIZVBw28Q9ZzzejECgdCqat6+zU2VnqIn7WDEcm9sqF4JduQf9cyYKDjCJtNi9ZtuVcUGE76ZjQXCoudS81Uw43MwHdaumipe0SgxzcA3zDIqA9vb9rsMT8SkY9CSFVVX1/fPzx9HQ6VXVdvzu6RfycMAzGer1erVb5Nq/rBq3KOorG/DANw4CGXSbnAxkJS7P0+fkX7kdYRht0L1R/Dgf8v8nw+i7pP4ANLO+QkaDbqOI9X1+T7+IOGUXDc4EdcrMM+r8gpeQzhH6b9mR5Br4ECLRtMbPVFWVZ4un5DV8ygZ0SyBYxAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;WGesture设置&quot;
        title=&quot;WGesture设置&quot;
        src=&quot;/Note/static/085292eec5dbae0965737ebfa665ef51/508ef/wgestures.png&quot;
        srcset=&quot;/Note/static/085292eec5dbae0965737ebfa665ef51/12f09/wgestures.png 148w,
/Note/static/085292eec5dbae0965737ebfa665ef51/e4a3f/wgestures.png 295w,
/Note/static/085292eec5dbae0965737ebfa665ef51/508ef/wgestures.png 578w&quot;
        sizes=&quot;(max-width: 578px) 100vw, 578px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;
vscode 使用全屏模式，左边的桌面可以查看文档，查资料，右边的桌面查看调试结果，中间的写代码，是不是很爽 😄
&lt;img src=&quot;/Note/a24023fb651036a9e8a50e6ad0016c78/use-1.gif&quot; alt=&quot;使用分屏&quot;&gt;
这里推荐一个 vscode 插件 &lt;code class=&quot;language-text&quot;&gt;Live Server&lt;/code&gt;，通过点击右下角的&lt;strong&gt;Go Live&lt;/strong&gt;按钮，可以在本地启动一个服务器，同时他支持热更新，直接保存就可以刷新页面。
在编辑器中编辑之后直接保存，在浏览器中会自动刷新页面。
&lt;img src=&quot;/Note/c2e6206e8c24e6a3de89972bb9a586d7/use-2.gif&quot; alt=&quot;Live Server&quot;&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[简单 HTTP 协议]]></title><description><![CDATA[简单的 HTTP 协议 1. HTTP 协议用于客户端与服务端之间的通信 请求访问文本或图像等资源的一端称为，而提供资源响应的一端称为。
在两台计算机之间使用 HTTP 协议通信时，在一条通信线路上必定有一端是客户端，另一端则是服务器端。 2. 通过请求和响应的交换达成通信…]]></description><link>https://zyycode.github.com/Note/http-chapter-2/</link><guid isPermaLink="false">https://zyycode.github.com/Note/http-chapter-2/</guid><pubDate>Thu, 01 Feb 2018 21:00:40 GMT</pubDate><content:encoded>&lt;h1&gt;简单的 HTTP 协议&lt;/h1&gt;
&lt;h2&gt;1. HTTP 协议用于客户端与服务端之间的通信&lt;/h2&gt;
&lt;p&gt;请求访问文本或图像等资源的一端称为&lt;code class=&quot;language-text&quot;&gt;客户端&lt;/code&gt;，而提供资源响应的一端称为&lt;code class=&quot;language-text&quot;&gt;服务器端&lt;/code&gt;。
在两台计算机之间使用 HTTP 协议通信时，在一条通信线路上必定有一端是客户端，另一端则是服务器端。&lt;/p&gt;
&lt;h2&gt;2. 通过请求和响应的交换达成通信&lt;/h2&gt;
&lt;h3&gt;2.1 请求报文—客户端&lt;/h3&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/eb756dff6aa30d597fb8252fe9e649f1/394f7/request-URI.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABkElEQVQoz3VS63KrIBjM+79Xf+S000ynrW2ukiZeMKLRKIiC2w+tmaRzysy6C8h+XHZmrUVVVVBKwTXHk26I8yxDWZYwxg5jfd/fYWpTf2aNQRQckQsxTJwzgexH15cL2G6L4HBA17borwtxY4Q745kyPbaRQFp3SKoG+1MBluSIC0V9DcYzREUD2U2LRtZKDsW+mA8ehVRQjzs8qw4vB4GNkPCiM96CDMtTDb9oB6yFwibXCGoLoXukzYh9WsJjIdZhCkabcH3dGWdo8PDuY/65x3x5wMKP8bgOsGAcL18nrMhwlUp8JhW8pMYHwSPteFcasArYXSx8gjZuh43BfHUkkyOethH+kV74HM9k+B4VA7y4vPKkX4McSyrkk+mu6Og0HRpn6D7u/oQccaJ7TOsWOR2PTozzH3Bz7p+ssQNygrFkWLUWqyDFhh5mHYpBs/SCWFrEtUHSAJx0ovoBbuwOcmRO3DpD92rXTN1m64ddJkOKVcI5WorOlLm/2ux3UH+HVsqaDANwZ6j1f8N9i2/Ozv/hkeJcTgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;请求报文的构成&quot;
        title=&quot;请求报文的构成&quot;
        src=&quot;/Note/static/eb756dff6aa30d597fb8252fe9e649f1/fcda8/request-URI.png&quot;
        srcset=&quot;/Note/static/eb756dff6aa30d597fb8252fe9e649f1/12f09/request-URI.png 148w,
/Note/static/eb756dff6aa30d597fb8252fe9e649f1/e4a3f/request-URI.png 295w,
/Note/static/eb756dff6aa30d597fb8252fe9e649f1/fcda8/request-URI.png 590w,
/Note/static/eb756dff6aa30d597fb8252fe9e649f1/394f7/request-URI.png 707w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
请求报文是由&lt;code class=&quot;language-text&quot;&gt;请求方法&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;请求 URI&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;协议版本&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;可选的请求首部字段&lt;/code&gt;和&lt;code class=&quot;language-text&quot;&gt;内容实体&lt;/code&gt;构成的。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h3&gt;2.2 响应报文—服务端&lt;/h3&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/98ab52162639bc02c036841fe872f1d3/d67fd/answer.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 44.5945945945946%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABaUlEQVQoz4VSi26CMBTd/3+YyZJtuoeIQxQQAUVsC5R3ObutGt0j2U0O5z5P6YUHkI3jiEpKlEUJpRTFCkVR6BKy4xGz6RT2wsJibsHbePhpel5D24N+tG0L111jsbBRlBJxFMG2l4iiGIJzOqykKTpIDXoaueA47BMk1McZu8oaUSNYtj0+/AOWMUcoaqwSji2TcGKGulfoFNAQa7Tke8EWlv0JP4yQpJnJd2o0okYwb3o8rWPMI4aZnxJzvG0zE7/vTrCS3OTmsTB4pR6/HLGtgEACrugRy+F2ZVH3mCwDPDohCSeYWD6mwRHP5L94B8yTAisaWvEzXDFc/A4usUOI7gX16zIS5RrNgFPVQdDdGLH2M9maOL9A3OEay/7uo1S0JJv25exzhOVAUHessJMjomq85H4jKAaktboJ6sWHokFc9thXww1S87m2SXPjf6tX53pCfay5CF7/n7/tXCs4Qxj4+M+01heMLrIXBM0LbAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;响应报文的构成&quot;
        title=&quot;响应报文的构成&quot;
        src=&quot;/Note/static/98ab52162639bc02c036841fe872f1d3/fcda8/answer.png&quot;
        srcset=&quot;/Note/static/98ab52162639bc02c036841fe872f1d3/12f09/answer.png 148w,
/Note/static/98ab52162639bc02c036841fe872f1d3/e4a3f/answer.png 295w,
/Note/static/98ab52162639bc02c036841fe872f1d3/fcda8/answer.png 590w,
/Note/static/98ab52162639bc02c036841fe872f1d3/d67fd/answer.png 670w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
响应报文基本上由&lt;code class=&quot;language-text&quot;&gt;协议版本&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;状态码&lt;/code&gt;（表示请求成功或失败的数字代码）、用以解释状态码的&lt;code class=&quot;language-text&quot;&gt;原因短语&lt;/code&gt;、&lt;code class=&quot;language-text&quot;&gt;可选的响应首部字段&lt;/code&gt;以及实体&lt;code class=&quot;language-text&quot;&gt;主体&lt;/code&gt;构成。&lt;/p&gt;
&lt;h2&gt;3. HTTP 是不保存状态的协议&lt;/h2&gt;
&lt;p&gt;HTTP 是一种不保存状态，即无状态（stateless）协议。HTTP 协议自身不对请求和响应之间的通信状态进行保存。也就是说在HTTP这个级别，协议对于发送过的请求或响应都不做持久化处理。
HTTP/1.1 虽然是无状态协议，但为了实现期望的保持状态功能，于是引入了 Cookie 技术。有了 Cookie 再用HTTP协议通信，就可以管理状态了。&lt;/p&gt;
&lt;h2&gt;4. 请求 URI 定位资源&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/b869de1ae453281a6b0f0aa371034447/8ae3e/HTTP-URI.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 62.83783783783784%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACT0lEQVQ4y3VT60/aUBzlz9k/6ae5xCzbl8XFLMuyzQfTDQk6J5iBA6PzA+qQ90sepRRKS+mLltLSs9uLyJB5kl9uc3vuuff8Hj7XdeHBW//9nuFh/351JnOepmnoCQJUss64vqcEHseEcua8dquFk1gcwaMI8oUi3ZtMJvDNxBzHWRDGwvE5jrItlFo8Do6OcVnpINkQcJEuQVFV+v9BsNfrkRBgDA0oigpdkQHLgEaIbE8Cw/EIXJXx9boGQR3iPJXD+t53vPGHcBhNwDRHi4IerNEIIxKuZaLRFRFO1/E2kcdprgmxL0HWjQeuSi4qFgrIZbNQ5AE5Z3lpnuZwPLaRKtcgE5LlTHCYayOQZnFZ42HZzpJtrzAedE0Fx3GwxmOaP/pCdSBhPxzFs+cBvNo5AMs0ES+2kGFFJPNVxK4ySKSKuKkwiGSb+E0uobkMR7Dl9+P1xnusvftMKz61TJQ7PRGrG59QvqvDsGyEsm2c1ftINCTEqgIipS4u6iJOyx3kuT49eHl1gw/+XXzcDeA4fg7btqeC03I72A+GIIkitfwjw+DbLYNbVsLQsp+07Do2zKG+0HK+WcsIgghNn//kVQOxCo+d6wa2k3c4q3ZREzWM6Utc6IaBSPQXtrc2wTCtueDj3jNNc6n/tBEpGicjWmxjPZ5DvCYinfqDlRcvsbK6hs0ve8uTQseKvJQlE9Dv9zGQBnSsRFGCIhHrygCmKqPGdugFOumInycnCAWDKJdK/xs9d0H4cXhWrXu7HmRZBtduo5gvgO/y1JmHvyY0zDkoYjTmAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;URI定位资源&quot;
        title=&quot;HTTP协议使用URI让客户端定位到资源&quot;
        src=&quot;/Note/static/b869de1ae453281a6b0f0aa371034447/fcda8/HTTP-URI.png&quot;
        srcset=&quot;/Note/static/b869de1ae453281a6b0f0aa371034447/12f09/HTTP-URI.png 148w,
/Note/static/b869de1ae453281a6b0f0aa371034447/e4a3f/HTTP-URI.png 295w,
/Note/static/b869de1ae453281a6b0f0aa371034447/fcda8/HTTP-URI.png 590w,
/Note/static/b869de1ae453281a6b0f0aa371034447/8ae3e/HTTP-URI.png 756w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;5. 告知服务器意图的 HTTP 方法&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1&quot;&gt;GET：获取资源 :point_down:&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#2&quot;&gt;POST：传输实体主体 :point_down:&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#3&quot;&gt;PUT：传输文件 :point_down:&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#4&quot;&gt;HEAD：获得报文首部 :point_down:&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#5&quot;&gt;DELETE：删除文件 :point_down:&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#6&quot;&gt;OPTIONS：询问支持的方法 :point_down:&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#7&quot;&gt;TRACE：追踪路径 :point_down:&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#8&quot;&gt;CONNECT：要求用隧道协议连接代理 :point_down:&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;5.1 &lt;a name=&quot;1&quot;&gt;GET：获取资源&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;GET 方法用来请求访问已被 URI 识别的资源。指定的资源经服务器端解析后返回响应内容。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/5ab60e90484e626092614b6afe61863e/bca35/GET.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 38.513513513513516%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABZElEQVQoz32SW3OCMBCF+f+/qU+d3h6cqlUQRAmXXISoBPBBsHK6Sae3B5uZb2aT7Jzs2Y33EBZ45QaTRIElCdh2i4RIbZwwFFkOY2q0TYPmJgZd22KvK3j3mwpTPThRKQSklA5ecAgucOo6nM9nvF8uuPzD9XpFYwy851ghOPRYyhq6qqC1dhwOB1TljoQLVHQ+DAP6vr+JFbXVelEmETKOMMmRpSkyxpASOcWWlGxLwaGkgBK/kH+x7srdDt4T22NRj5irjixydyEs/NNyYxpnx65xHB2/Y8vXvW2PNxEt5rrHTBh6oQS3Qq4ihYr2p+7kRHWlcTweqfEaZVniSC0ZndDPI3Zw3ktWfwvafsXrNVJrN8+hlHLCdtIpo3akGdZhSL8gcbHgBeUVSDZbl2fqGt7dG4O1/RjmiFYr+MslVkGA2XSKTRwjIoHA9x1RsEJIOcHSR+gHTtxfLNzeDnRHBXwAY8xTviaD//AAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;GET 方法&quot;
        title=&quot;使用 GET 方法请求-响应的例子&quot;
        src=&quot;/Note/static/5ab60e90484e626092614b6afe61863e/fcda8/GET.png&quot;
        srcset=&quot;/Note/static/5ab60e90484e626092614b6afe61863e/12f09/GET.png 148w,
/Note/static/5ab60e90484e626092614b6afe61863e/e4a3f/GET.png 295w,
/Note/static/5ab60e90484e626092614b6afe61863e/fcda8/GET.png 590w,
/Note/static/5ab60e90484e626092614b6afe61863e/bca35/GET.png 683w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;5.2 &lt;a name=&quot;2&quot;&gt;POST：传输实体主体&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;POST 方法用来传输实体的主体。相对于 GET 方法的“我想要向服务器访问某个资源” POST 方法则是“我要把这条信息告诉给服务器”。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/5ab60e90484e626092614b6afe61863e/bca35/GET.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 38.513513513513516%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABZElEQVQoz32SW3OCMBCF+f+/qU+d3h6cqlUQRAmXXISoBPBBsHK6Sae3B5uZb2aT7Jzs2Y33EBZ45QaTRIElCdh2i4RIbZwwFFkOY2q0TYPmJgZd22KvK3j3mwpTPThRKQSklA5ecAgucOo6nM9nvF8uuPzD9XpFYwy851ghOPRYyhq6qqC1dhwOB1TljoQLVHQ+DAP6vr+JFbXVelEmETKOMMmRpSkyxpASOcWWlGxLwaGkgBK/kH+x7srdDt4T22NRj5irjixydyEs/NNyYxpnx65xHB2/Y8vXvW2PNxEt5rrHTBh6oQS3Qq4ihYr2p+7kRHWlcTweqfEaZVniSC0ZndDPI3Zw3ktWfwvafsXrNVJrN8+hlHLCdtIpo3akGdZhSL8gcbHgBeUVSDZbl2fqGt7dG4O1/RjmiFYr+MslVkGA2XSKTRwjIoHA9x1RsEJIOcHSR+gHTtxfLNzeDnRHBXwAY8xTviaD//AAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;POST 方法&quot;
        title=&quot;使用 POST 方法请求-响应的例子&quot;
        src=&quot;/Note/static/5ab60e90484e626092614b6afe61863e/fcda8/GET.png&quot;
        srcset=&quot;/Note/static/5ab60e90484e626092614b6afe61863e/12f09/GET.png 148w,
/Note/static/5ab60e90484e626092614b6afe61863e/e4a3f/GET.png 295w,
/Note/static/5ab60e90484e626092614b6afe61863e/fcda8/GET.png 590w,
/Note/static/5ab60e90484e626092614b6afe61863e/bca35/GET.png 683w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;5.3 &lt;a name=&quot;3&quot;&gt;PUT：传输文件&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;PUT 方法用来传输文件。就像 FTP 协议的文件上传一样，要求在请求报文的主体中包含文件内容，然后保存到请求URI 指定的位置。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/40cb0dcd3cafb956336ab87cbf0ebb2b/0f79a/PUT.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 21.62162162162162%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAA0klEQVQY042P30uEQBSF/f//p6KnHiJSWDZaWh3H+bEzOzqpG4WCfo1C0GMXDod7H853T5YLR2EGXprIoXbUVUUtBNW53F01EiUlMUbGYWDoe4bN/+j3Hq6e7D4/8Sg6jiOcrp8Y1WCtw2qbwhTee+Z55j9zu41kT6Uj998UYebNjzhrUuAFozUXa9HaELtI27aEENKumaZpD1iWZde6rrv3/QfZ3fORh9eGwn9xUAGZKotKIFNdmaoaY7HGoNO3G8AkwOaXBN3vSlG+n/HO0yXoD2LIKybQvL4DAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;PUT 方法&quot;
        title=&quot;使用 PUT 方法请求-响应的例子&quot;
        src=&quot;/Note/static/40cb0dcd3cafb956336ab87cbf0ebb2b/fcda8/PUT.png&quot;
        srcset=&quot;/Note/static/40cb0dcd3cafb956336ab87cbf0ebb2b/12f09/PUT.png 148w,
/Note/static/40cb0dcd3cafb956336ab87cbf0ebb2b/e4a3f/PUT.png 295w,
/Note/static/40cb0dcd3cafb956336ab87cbf0ebb2b/fcda8/PUT.png 590w,
/Note/static/40cb0dcd3cafb956336ab87cbf0ebb2b/0f79a/PUT.png 689w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;5.4 &lt;a name=&quot;4&quot;&gt;HEAD：获得报文首部&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;用于确认 URI 的有效性及资源更新的日期时间等。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/69a49a0f8265d988aa11459080812149/1b747/HEAD.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 15.54054054054054%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAkklEQVQI13XMSwrCMAAA0d7/Ru4UFyJCVVAL2p80MW2DpBHTjw2M1X0Xj9lNsAwjNldJWBgOqSKLb6RJOknI04x7niMKQWMML2uxTYO184LF7sw61oT6w1EYlBCoh0Ip9R/VVY1zjq5tGccR7z3+1xnBah+xTUpOuuMin9RlSTXRWk+tkEWBFPLPvR3DMND3/awvuFHhLmtRXDEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;HEAD 方法&quot;
        title=&quot;使用 PUHEADT 方法请求-响应的例子&quot;
        src=&quot;/Note/static/69a49a0f8265d988aa11459080812149/fcda8/HEAD.png&quot;
        srcset=&quot;/Note/static/69a49a0f8265d988aa11459080812149/12f09/HEAD.png 148w,
/Note/static/69a49a0f8265d988aa11459080812149/e4a3f/HEAD.png 295w,
/Note/static/69a49a0f8265d988aa11459080812149/fcda8/HEAD.png 590w,
/Note/static/69a49a0f8265d988aa11459080812149/1b747/HEAD.png 679w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;5.5 &lt;a name=&quot;5&quot;&gt;DELETE：删除文件&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;DELETE 方法用来删除文件，是与 PUT 相反的方法。DELETE 方法按请求 URI 删除指定的资源。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/dc414549268d48d3cdd34fad5902d539/8ce22/DELETE.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 14.864864864864865%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAtElEQVQI10WPTQuCQBRF/f+/KKJVUKuKiEwlnRnHkQxMrFFTCU6jLVoc7n087vvwVjufTZSzNzUneeMahSghSeJ4JtMaozNMllHXNda+sK8/jbWztm1Dbgzech+yVRXHx4egeLqwpigKN8Cg05SyLHl3b9qmpe97xnFkcDr5YRjoum7uT/Xd5bzF9sD6LNnpipPIkYm77BojRYKSglQptENJ9fNuyaTTF0oILr5PFISEQTDzBfcG3Ij4tDbKAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;DELETE 方法&quot;
        title=&quot;使用 DELETE 方法请求-响应的例子&quot;
        src=&quot;/Note/static/dc414549268d48d3cdd34fad5902d539/fcda8/DELETE.png&quot;
        srcset=&quot;/Note/static/dc414549268d48d3cdd34fad5902d539/12f09/DELETE.png 148w,
/Note/static/dc414549268d48d3cdd34fad5902d539/e4a3f/DELETE.png 295w,
/Note/static/dc414549268d48d3cdd34fad5902d539/fcda8/DELETE.png 590w,
/Note/static/dc414549268d48d3cdd34fad5902d539/8ce22/DELETE.png 685w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;5.6 &lt;a name=&quot;6&quot;&gt;OPTIONS：询问支持的方法&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;OPTIONS 方法用来查询针对请求 URI 指定的资源支持的方法。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/dc414549268d48d3cdd34fad5902d539/8ce22/DELETE.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 14.864864864864865%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAtElEQVQI10WPTQuCQBRF/f+/KKJVUKuKiEwlnRnHkQxMrFFTCU6jLVoc7n087vvwVjufTZSzNzUneeMahSghSeJ4JtMaozNMllHXNda+sK8/jbWztm1Dbgzech+yVRXHx4egeLqwpigKN8Cg05SyLHl3b9qmpe97xnFkcDr5YRjoum7uT/Xd5bzF9sD6LNnpipPIkYm77BojRYKSglQptENJ9fNuyaTTF0oILr5PFISEQTDzBfcG3Ij4tDbKAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;OPTIONS 方法&quot;
        title=&quot;使用 OPTIONS 方法请求-响应的例子&quot;
        src=&quot;/Note/static/dc414549268d48d3cdd34fad5902d539/fcda8/DELETE.png&quot;
        srcset=&quot;/Note/static/dc414549268d48d3cdd34fad5902d539/12f09/DELETE.png 148w,
/Note/static/dc414549268d48d3cdd34fad5902d539/e4a3f/DELETE.png 295w,
/Note/static/dc414549268d48d3cdd34fad5902d539/fcda8/DELETE.png 590w,
/Note/static/dc414549268d48d3cdd34fad5902d539/8ce22/DELETE.png 685w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;5.7 &lt;a name=&quot;7&quot;&gt;TRACE：追踪路径&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;TRACE 方法是让 Web 服务器端将之前的请求通信环回给客户端的方法。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/b63d186e5609da2bf854a979d03aa448/d2cbc/TRACE-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 39.189189189189186%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABvklEQVQoz0WQzU8TURTF5z/UlWwk/AGu3blgBwmyNSJpUhM1LguGsFB0AWpS1EQYaEuB1grT6XzPMN9fP9+bar3Jybvv3HvPPe8pVVUR3t3hed4crkue58iQNYmyLCmKQvBFU5OcPOWc7/vNnMxljxJFEY5tMx6NMAwTx3EE3GZI0zTUU5Wrq+smN0yLqa4LAZ8wjHDF8sHggt55T9xDoihEybOsUbdMkzxNoEjnqGviJMEVC0rJN1GziLqkjIWI7xEIlxJxHKPI2sXwkhfPtzgZXnNpx/w0Yizhcu/dLl+735hl0L3xcNKS/R99WgddboOUE9Gn3piowqFmuc0epRJO1PM+nbevaR+PedAZsrQzZH1jk/XVJ7z58IWV/Qn3d0ZsvOqwtLbNs71DHn8cc293wqOX71l+uMzq2lOiOJk7zLKU3tnZ4knyG44+HTDo94nEd/yL0+/HHB59xnH9BWcZM9rbW7Rbrf9PLoSAZgeMpia67aEL+7/8DN0J6I81NNPBsAXnJUy9iNHtjIluMZO94v47yBdmlLqeJ5XcFpcCRYMgqxrez2vMqMAWnJOUzVgqSsZfTtaScq4htf4AUB5NnrgTP3QAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;TRACE 图解&quot;
        title=&quot;TEACE 图解&quot;
        src=&quot;/Note/static/b63d186e5609da2bf854a979d03aa448/fcda8/TRACE-1.png&quot;
        srcset=&quot;/Note/static/b63d186e5609da2bf854a979d03aa448/12f09/TRACE-1.png 148w,
/Note/static/b63d186e5609da2bf854a979d03aa448/e4a3f/TRACE-1.png 295w,
/Note/static/b63d186e5609da2bf854a979d03aa448/fcda8/TRACE-1.png 590w,
/Note/static/b63d186e5609da2bf854a979d03aa448/d2cbc/TRACE-1.png 705w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
但是，TRACE 方法本来就不怎么常用，再加上它容易引发 XST（Cross-Site Tracing，跨站追踪）攻击，通常就更不会用到了。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/1f83ae2bf217a4557917cb4b7f28f007/ebf47/TRACE-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 37.16216216216216%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABIklEQVQoz5WQ70+CUBSG+f//p7a+tNwqUzNTFAXkIt6LIIEOFHw6uGz1wVXv9u7s/tg5z3mtztuCh4XmOdgy9NY4UxvXdfHEYRCQZRnvf3Ce5wS+j3XTHXPnGF62MIoy3Pmc5TLA8zyKouB0On35mi5vRmusJ9fQ0yWPYcFQJUSrFXEcs/qsdV1zPB6pqoqyLK/6cDiwUgqrr7a8Ct1gU2ObHYGQ+b4Quh4qUIQqRMvktuFvimODdTuYce8mvCQNE52zMZokSQTfsBFCbQyVELSk59Wb5kcM3+M4r9yZKrrRnoE0bAljuUzTrThlv9vxH8Uy3OotE4abI31TMQpT7PEYZ+ZgT2zSllQ+KcnGCHlboyiiyAsaIa0l20vG7Vmv13wA3UUVHt/DZ10AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;TRACE 方法&quot;
        title=&quot;使用 TRACE 方法请求-响应的例子&quot;
        src=&quot;/Note/static/1f83ae2bf217a4557917cb4b7f28f007/fcda8/TRACE-2.png&quot;
        srcset=&quot;/Note/static/1f83ae2bf217a4557917cb4b7f28f007/12f09/TRACE-2.png 148w,
/Note/static/1f83ae2bf217a4557917cb4b7f28f007/e4a3f/TRACE-2.png 295w,
/Note/static/1f83ae2bf217a4557917cb4b7f28f007/fcda8/TRACE-2.png 590w,
/Note/static/1f83ae2bf217a4557917cb4b7f28f007/ebf47/TRACE-2.png 688w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;5.8 &lt;a name=&quot;8&quot;&gt;CONNECT：要求用隧道协议连接代理&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;CONNECT 方法要求在与代理服务器通信时建立隧道，实现用隧道协议进行 TCP 通信。主要使用 SSL（Secure Sockets Layer，安全套接层）和 TLS（Transport Layer Security，传输层安全）协议把通信内容加密后经网络隧道传输。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;// CONNCET 格式
CONNCET 代理服务器名：端口号 HTTP版本&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/4ad355f7809dd80713a84a9575cc5fd4/f6386/CONNECT.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 15.54054054054054%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAp0lEQVQI112OzQqDMBCEff9HKj20B6GHYlsFQcWYXxWLaWIQL8o0hh7aLnwszDI7E52SHHEhkUiDjPaoqxJVWYI2FKSuwSgFYwwNIZBCoFUK1lpMfzjnwj06JgViMuI+rsh7C8k5uq73xhaCC2itMc8z3OQCy7Jg27Zf1hX7PIcB0eFywzkjuHKNlChw30ipz5bSP5a+dRUapo80hFhj8PJB3xiv7Z433XPd+SDJ7/sAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;CONNECT 方法&quot;
        title=&quot;使用 CONNECT 方法请求-响应的例子&quot;
        src=&quot;/Note/static/4ad355f7809dd80713a84a9575cc5fd4/fcda8/CONNECT.png&quot;
        srcset=&quot;/Note/static/4ad355f7809dd80713a84a9575cc5fd4/12f09/CONNECT.png 148w,
/Note/static/4ad355f7809dd80713a84a9575cc5fd4/e4a3f/CONNECT.png 295w,
/Note/static/4ad355f7809dd80713a84a9575cc5fd4/fcda8/CONNECT.png 590w,
/Note/static/4ad355f7809dd80713a84a9575cc5fd4/f6386/CONNECT.png 686w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;6. 持久连接节省通信量&lt;/h2&gt;
&lt;p&gt;在 HTTP 的初始版本中，每进行一次 HTTP 通信就要断开一次 TCP 连接。这对于一些容量很小的问本传输没有多大问题，但是随着 HTTP 的普及，文档中的文本和图片越来越多，每次请求都会造成无谓的 TCP 连接和断开，增加通信量的开销。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/721f4d3f00a6417d2a8795562bc0a9a7/30d16/HTTP-TCP.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 57.432432432432435%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACD0lEQVQoz2WSy3PSUBTG+cPcu3Ppzo0rx4WPrdaNf4jOdOWMjlZHapEWkCKUoBUYKM/yfqSQ8AxNwuvnTWIQhm/mTO6ce8+X853zeRBYr9d2WJCnJtf9CZX+lIqiMdHndt66Xa2dcF7u1rlfj5tcrVZ2WVEeEi80SNVkYlc1BqOxQ7e27v/Farkh244dwm3ohkmkOeG0oRFujKg22mRrHYItjWBTI1QfMdONnRqXx+MmioUC6VTSuhEyTX7emMQGkFDmdLoyla5CTF0TVUFSFrb0erWKLMssFgtbgdWWZzq7RfqT5vXBC549fkQun0cejAnmO3y/anFWVpCuZSKlLqfFHv5cmy+XZfunqqJw+O49ocscylhzJDuzg2jkHL/vxD73hhM+Bi74+kMinKkSyAridIVQssjnQIyjkMRclH3yfuPO3Xvcf/BQEH/ANIz/hNlMhoQkOZsWHR79KnKSqXNW6pEUC4qLLv0FGW+qQrjQsuVdRKO8PHjF86dPOHz7BkPM3uMuxGq/0+44S5kv+K0ukYaiSMytfqNS6E2d+YlcVMx3JiRbGA0Hmzpb8raHXEzFY19tgreh420aZOtdEg2V45bIt3R8dc12ggVX4WbL28Z0zzNjTnuooWg6vanOaDymPxJGV2ckmyqlrsrk1hSb3veiZ9fp+550YSyF1HyT82yNQKpMvNjGMM29Zv4Cg1s0XsNRGO4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;HTTP-TCP&quot;
        title=&quot;HTTP 初始版本中的请求图&quot;
        src=&quot;/Note/static/721f4d3f00a6417d2a8795562bc0a9a7/fcda8/HTTP-TCP.png&quot;
        srcset=&quot;/Note/static/721f4d3f00a6417d2a8795562bc0a9a7/12f09/HTTP-TCP.png 148w,
/Note/static/721f4d3f00a6417d2a8795562bc0a9a7/e4a3f/HTTP-TCP.png 295w,
/Note/static/721f4d3f00a6417d2a8795562bc0a9a7/fcda8/HTTP-TCP.png 590w,
/Note/static/721f4d3f00a6417d2a8795562bc0a9a7/30d16/HTTP-TCP.png 672w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
这对于一些容量很小的问本传输没有多大问题，但是随着 HTTP 的普及，文档中的文本和图片越来越多，每次请求都会造成无谓的 TCP 连接和断开，增加通信量的开销。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/61ad2256658e033b91f51910c1967f13/d2cbc/HTTP-TCP-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 61.48648648648649%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7EAAAOxAGVKw4bAAACMElEQVQoz22TSW/TUBSF84cROxAbdrDqgmxAFRISf4BKCKRKXZRKLVWZmjQJcdo4gxM7g+14nuLh49lpaBu40tV78jv3vHPP9auxE3mek4QBke9hmQYrQ8cRq+d5/LyZMJ7pGLaHttDxBcax7erMNE0sy6JWFEVFso0giulqFs3hjLOra04bEhfdIW3VYqDpf3FpmqKMxyIVwjCsCG1BXtsCoigSBwFJmjExPWTNoNEbcNmVafUV5k6IYoWc/FY47oxQBCYKfFzbIolC4jiqiGvJOqU/HLP38gXPnz2l2+sReg5ptGk7DkSh71KsY+SZgawusf0Qx/VotTucXHZpywp5llbCalmWEYQRh58/8fHgA1Ecs1jZqMKjXn9Q5WA0YaJbyBPtzuwi583bd+ztv2f/4Ah5ONwQFsXGv54k0Wo2SbKc7/KMc2nM0bc2h+cNji8lfoyWqIZTYTPheS68f11/xZPHj6jX63Q6nS1hUW1mmoaqqpXZnutgGgbTiYI6naBNpwS+Tyg82w19qbMyVxvRgqu23ez+Ov+E6GQtYJodookB+UkmfMvEMGLWYg4lR0W4JduupcJITNt3XZaLucgFhq6zFoX9+YozSeFU5HTllVV3993W13Y/BHFCa+byS3h20uzzpdHja3fM1dxjtDBL/dVEi9sutsoetHyfME4SFqbFdLZAupGRrmVuBiPxOlxc/6GHu1b9V2F1Y55RZBuPyszSdWlspaqE7aq6T/wHeSeM205eiWsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;HTTP-TCP&quot;
        title=&quot;HTTP 初始版本中的请求图&quot;
        src=&quot;/Note/static/61ad2256658e033b91f51910c1967f13/fcda8/HTTP-TCP-2.png&quot;
        srcset=&quot;/Note/static/61ad2256658e033b91f51910c1967f13/12f09/HTTP-TCP-2.png 148w,
/Note/static/61ad2256658e033b91f51910c1967f13/e4a3f/HTTP-TCP-2.png 295w,
/Note/static/61ad2256658e033b91f51910c1967f13/fcda8/HTTP-TCP-2.png 590w,
/Note/static/61ad2256658e033b91f51910c1967f13/d2cbc/HTTP-TCP-2.png 705w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;6.1 持久连接&lt;/h3&gt;
&lt;p&gt;为了解决上述的问题，出现了&lt;code class=&quot;language-text&quot;&gt;持久链接&lt;/code&gt;的方法（HTTP Persistent Connections，也称为&lt;code class=&quot;language-text&quot;&gt;HTTP keep-alive&lt;/code&gt; 或 &lt;code class=&quot;language-text&quot;&gt;HTTP connection reuse&lt;/code&gt;）的方法。特点是，只要任意一端没有明确提出断开连接，则保持 TCP 连接。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/2f2eba7e7515919b5acc0a6a7b2e47b0/5ebd7/HTTP-Persistent-Connections.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 78.37837837837837%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADA0lEQVQ4y2WU2W7bVhCG9UIBCuR10l71BXrX26Q3fYcCQdM0F6lRNMjmxEssWbKWJFZjy5IlhtoXLqJISaRIcZG+HtKVITkDDM8hcOY/M/PPf1IIW6/XicfWszxqypTa0EQeO3hByM2ZLQe247Y9tQ0WW1ufctVVuerpfJH7RP5yEy58deubmO01AdwArVYroihK9p7n8UV3KQxmVDSb4VBBUi3ONVf4gqruEIXhTqYbS/m+z3w+YzqdYpomjm2jTx1y6pLSZMWl5jDsdmmMDIrjkLweUrcCvIWDrum0mi0G/T5fJSnBSFkCpNvpIDUaqKomAOcMNYNS1yTXGpMXa7k54kxWyXcmnLUNTusDZiI4jpXqEn0B2G610VSVlOM4mJMJs9mM5XLJKgppj3T+fJvhr4Mcx5UW6fqIo4sO/2Q+8extmuPzGkvRFlUAKKNR0qK4Mtd1b3pomBZdUVanKVOrN+jpFq+KFd6UrsiIbNK1vgBs877c4GX+kpOLr8nl2UwG07JEElHiSQ/jT5zd8dERvz3+nVIhj2LOeX6Y58XpZ06qXbKNESdXPV4XLtn7UCRbbSVEvDs45Onfr7nuqbeEpmJ2Y4ubure3R0ySL2ZvPLWZzBeYtovpeFjC439jZmN7ghRR3g8Pvufed/f58aefkeTmDeCGclVROHi3n+wNAXJaaZKtyHxqKpSkAfnrHvlah/SFRLEqs3Bsnjz5g4cPH/HrL4+QZXkX0Bbs6pqW7PvahBcfCuyflcnXu+QkRZTZ4/BjhVeZjxSu22wqsxMy/dt5TG1P+uaQKubwpTThfWvKYXdOo6eI8bHYb89407SoqDarMBDn1wRBQBgP+f+6TO3K52baXXHjpRVxbq7514wYaGNqhstn8V+21pyPfQLfZ9s2GKm7Wtz0MD1wKKgeRdWlI6R3MZpRGgfkRi7tqdB3FH4Tt6Pl7VtCMQJLkUFcTsx6GPhYC4+GYlFuKdSHhmB+mTwYdx+XHcC7Qt82QwBkqx2KgqS0UE9TMb7JMLb/AC7DqrXLrj7DAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;HTTP-Persistent-Connections&quot;
        title=&quot;图：持久连接旨在建立1 次TCP 连接后进行多次请求和响应的交互&quot;
        src=&quot;/Note/static/2f2eba7e7515919b5acc0a6a7b2e47b0/fcda8/HTTP-Persistent-Connections.png&quot;
        srcset=&quot;/Note/static/2f2eba7e7515919b5acc0a6a7b2e47b0/12f09/HTTP-Persistent-Connections.png 148w,
/Note/static/2f2eba7e7515919b5acc0a6a7b2e47b0/e4a3f/HTTP-Persistent-Connections.png 295w,
/Note/static/2f2eba7e7515919b5acc0a6a7b2e47b0/fcda8/HTTP-Persistent-Connections.png 590w,
/Note/static/2f2eba7e7515919b5acc0a6a7b2e47b0/5ebd7/HTTP-Persistent-Connections.png 704w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;6.2 管线化&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;管线化技术&lt;/code&gt;：持续连接使得多数请求以管线化方式发送。这样可以做到同时并行发送多个请求，而不需要一个接一个地等待响应了。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/ca1aa01caaf6d28fc3a095b8c6f431c9/99272/pipelining.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50.67567567567568%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB/0lEQVQoz41S2W7TUBTMxyGkgBBCvPEBwAcgHvgBxAN/AOIJXhBtUVUEDV3SukUNJc3ihHiLQ+Ilie2k3rJ4yXCuqySlTxzp6FrjozmjM5MDVRRFmE2nmFLHccwgLBaL/+rl7LJyQRCgb5owdAO6rkOWZAz6/exnem1wWQy6TnTzOzcajaBrPdi2kxEpsgKGJXGENIkRzWYIfA9h4CPwvBUeR/PVkiRJ1oQxDUTzOcIwxJiIZkTABrp9G92BA9W0UJdU8NR1qZNhHcI0ej1aoJGYtXoiZIrNoYXtrU08evgA+4VdGrZQ5FV8+Mbhe00FJ1v4eiGDUyx8Pq3iPeE7J2VSG2OvUMB5qQTTMK5uyO5kj11UymW8fvUSbVmGH05wxLexc8bjWNBxIg9QqCrgpAH2agq2f9Rw2lThey5ePH+Gp4+f4N3bN3Achym8OmpI5mxtfMocTwnaPCxhg6vgoNnDMSncJaXs/XIu4GPxF6r6Jfh6DXfyedy/m8e927dwVDxcE7ruJRo8T8QhRSdBReqi2jZQU02UWn9w9lvFT7GLesfEhaJD0CykaYper4fiwT5EQchityJk92BAkqSZKZmLixTTCZll23DHI9jDIRLCmcuzyWRlRuD76xzeDCbbatCBdU1Ds9GAIEhwiFAURAitVpYElltRFP8J9TI2fwHoIOMEjuFEoQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;pipelining&quot;
        title=&quot;图：不等待响应，直接发送下一个请求&quot;
        src=&quot;/Note/static/ca1aa01caaf6d28fc3a095b8c6f431c9/fcda8/pipelining.png&quot;
        srcset=&quot;/Note/static/ca1aa01caaf6d28fc3a095b8c6f431c9/12f09/pipelining.png 148w,
/Note/static/ca1aa01caaf6d28fc3a095b8c6f431c9/e4a3f/pipelining.png 295w,
/Note/static/ca1aa01caaf6d28fc3a095b8c6f431c9/fcda8/pipelining.png 590w,
/Note/static/ca1aa01caaf6d28fc3a095b8c6f431c9/99272/pipelining.png 669w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;7. 使用Cookie 的状态管理&lt;/h2&gt;
&lt;p&gt;HTTP Cookie（也叫Web Cookie或浏览器Cookie）是服务器发送到用户浏览器并保存在本地的一小块数据，它会在浏览器下次向同一服务器再发起请求时被携带并发送到服务器上。通常，它用于告知服务端两个请求是否来自同一浏览器，如保持用户的登录状态。Cookie使基于无状态的HTTP协议记录稳定的状态信息成为了可能。
Cookie 主要用于三个方面：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;会话状态管理（如用户登录状态、购物车、游戏分数或其它需要记录的信息）&lt;/li&gt;
&lt;li&gt;个性化设置（如用户自定义设置、主题等）&lt;/li&gt;
&lt;li&gt;浏览器行为跟踪（如跟踪分析用户行为等）&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;参考：&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Cookies&quot;&gt;《HTTP cookies》&lt;/a&gt;
&lt;a href=&quot;https://segmentfault.com/a/1190000004556040&quot;&gt;《聊一聊 cookie》&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[了解 Web 及网络基础]]></title><description><![CDATA[了解 Web 及网络基础 使用 HTTP 协议访问 Web 当我们使用浏览器时，在地址栏输入www.baidu.com…]]></description><link>https://zyycode.github.com/Note/http-chapter-1/</link><guid isPermaLink="false">https://zyycode.github.com/Note/http-chapter-1/</guid><pubDate>Thu, 01 Feb 2018 16:15:05 GMT</pubDate><content:encoded>&lt;h1&gt;了解 Web 及网络基础&lt;/h1&gt;
&lt;h2&gt;使用 HTTP 协议访问 Web&lt;/h2&gt;
&lt;p&gt;当我们使用浏览器时，在地址栏输入&lt;a href=&quot;https://www.baidu.com/&quot;&gt;www.baidu.com&lt;/a&gt;后，页面信息是如何呈现的呢？其实当我们在地址栏输入&lt;code class=&quot;language-text&quot;&gt;URL&lt;/code&gt;后，浏览器就会从服务器获取文件资源等信息，然后显示到浏览器上面。就比如，卖家在网上买东西，选购填写自己的地址信息后，然后卖家会根据你的地址通过快递公司发货给你，地址信息就相当于&lt;code class=&quot;language-text&quot;&gt;URL&lt;/code&gt;，卖家就相当于服务器，买家就相当于浏览器，快递公司就相当于传输协议（&lt;code class=&quot;language-text&quot;&gt;HTTP协议&lt;/code&gt;）。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 31.08108108108108%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABYklEQVQY011RTU/CQBDtX/Jg4t/w4sX/ghcvHo0ejB44YIICCiaYKHgmQGyRDwtWQmnLtoUCLaUtYto+y0IwOslkZycz7719y+BfeJ4HWZKgaxo0VYVK1KjWMbMs2FGaYwMTw0AQBH/2wjCkycgDAjJQ0KjX0ZNkhIGPfl8CUTWI0anrQ7iuBzcicrwvyIYFMrEoSK/bhaqSCCgC3BAwnTaPdOYOF5dXGA112nzpEMSrIq5rChKcjATbxw0rIt9ScFKoI1sT6ZxmjBFPZvBcfsPUdtaAFKBYRKVSoQ3fXzGFlNE0LcwdB47jwrZtfC+8zQPXahKpe+zs7mH/4BDJdBaB768By6USWo3G1o8UJyJRFpB7/cAD94kcKyBb5XFb6eC40ERJUOgcx7I4PTvHUSyGp8c89ZUJqBKTKghWZkTBkzGa8hCiMYOgT8FrJtq6hSaZ4l0ZYbFc/n5GtO/M59v7D9+7tSqZM4eVAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;web&quot;
        title=&quot;web&quot;
        src=&quot;/Note/static/ad4a904ae2bc2483b6bda0fd3af0d8b4/fcda8/web.png&quot;
        srcset=&quot;/Note/static/ad4a904ae2bc2483b6bda0fd3af0d8b4/12f09/web.png 148w,
/Note/static/ad4a904ae2bc2483b6bda0fd3af0d8b4/e4a3f/web.png 295w,
/Note/static/ad4a904ae2bc2483b6bda0fd3af0d8b4/fcda8/web.png 590w,
/Note/static/ad4a904ae2bc2483b6bda0fd3af0d8b4/efc66/web.png 885w,
/Note/static/ad4a904ae2bc2483b6bda0fd3af0d8b4/40601/web.png 945w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;
HTTP（HyperText Transfer Protocol，超文本传输协议，严谨来说应该叫超文本转移协议），完成从客户端到服务端等一系列运作流程。可以说，Web 是建立在 HTTP 协议上通信的。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h2&gt;网络基础 TCP/IP&lt;/h2&gt;
&lt;h3&gt;TCP/IP 协议族&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;协议&lt;/code&gt;: 不同的硬件、操作系统之间的通信规则。
&lt;code class=&quot;language-text&quot;&gt;TCP/IP&lt;/code&gt;: 与互联网相关的协议的集合。
{% fi ./TCP-IP.png, alt, 图：TCP/IP 是互联网相关的各类协议族的总称 %}&lt;/p&gt;
&lt;h3&gt;TCP/IP 分层管理&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;应用层：决定了向用户提供应用服务时通信的活动&lt;/li&gt;
&lt;li&gt;传输层：对上层应用层，提供处于网络连接中的两台计算机之间的数据传输&lt;/li&gt;
&lt;li&gt;网络层（网络互连层）：处理在网络上流动的数据包&lt;/li&gt;
&lt;li&gt;链路层（数据链路层，网络接口层）：处理连接网络的硬件部分&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;TCP/IP 通信传输流&lt;/h3&gt;
&lt;p&gt;利用 TCP/IP 协议族进行网络通信时，会通过分层顺序与对方进行
通信。发送端从应用层往下走，接收端则往应用层往上走。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 577px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/7746046bf62f242686438214155bc5a7/065e2/TCP-IP-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 89.1891891891892%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADe0lEQVQ4y12UC1PiWBCF+f9/YWqrtrZqR3dxxhmRVUet0vExrA+U9zNANJBAIEASwiMJ3zYBXbWrulI39+Sk+/S5N4bEcrmMchVtTaNSLrPw/Shf9t5iRqMR2UwGx3XxN5gXnthHcK1WI32fpmsYuBPvFfj2aZom11dXaPJz0+wTrt5vOGJ8iKk3xXFcJt6E0XAoOeJjF/P5PKpyJs+3ERFOJhMMXSeQ0n3BK9aU3HOf61yNO0VHNT8SLvECqPQnZFsGqUKdomFjOetuYmEYslgsInAgablTqgK+qLSpKC3qqoYv+29bnvphhLvr2OTaFubYxZ2uq42tyrcdJ1pke1O+FrrsZNokWjMOVY8DZYztzaL9cEN48eTwLa+zldE5bAec6iGXmksQ+MQcIWu3Oys4t8aURNFgP60Qv8xxVOyQLBlRNW8rPFUdknmN/fsa8YsM/8g3yawaueLdUGwpu9sfUO4MOMsrpNMPFOut18peCAfOFFNwqWaP3FOPbs+kNxy/n3Io2HxnxK9ah9IYclZIoT+jMFjQd2fRMKIJB0tuheiuZZK3oSjYuihWHQWM3Im0bNvoMuUwCDlqOnz6V+W3VIO/Kg47jRnbVYdGd/hiDKYy4XjJ4lOqye+3T8RrLvHGnHihT3cwJLZy+tTzCKXE02ePH7UBhzmV3VSRk7LB92KXqj54JXQXS5LNCSfVLslMky/XeY6rJjvpFnrfeq/hQLzUMUVD3eKipJLNFykp6v8G3njRGDqitcWtalLQTPReX76zIvvFNjpjuD77ZZPDok6iarGruBxUByQVhxt9IiKH66Mpxt+Tqo9KOrvVMT/aPleGz7E2p2x6xALRjtCnZft8yXb4fF3ipGlzKaBz3edM8khaD8VjqygM5mzdNvn7psaZNuW8M+esPeeoNYkGGrMsi/aTimYvSDQmbItZ/7x/YrfuklBnfFNEr8Izy02F9XHATsVm+7HN5weN7w2P5LMvQzG5qajS8kY/zQ2Iy0QPyl320g22zx9IPrb4mtVIPDZFvzVh0fKFUFotddi7r7N1luZAZPojVeOi2FpfX6voez4/yxo/xdDH2QZ7jw1Ocw0OHxWuq21mIs3q8qgNPHFBi9Oswpd7RX7a4LLQiNYVrbee8ppz+TptcQa5YUDVDqlIlqXN/NCPsihZkXXdkaPa93H999fffxAnPByThLR7AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;TCP IP 2&quot;
        title=&quot;TCP IP 2&quot;
        src=&quot;/Note/static/7746046bf62f242686438214155bc5a7/065e2/TCP-IP-2.png&quot;
        srcset=&quot;/Note/static/7746046bf62f242686438214155bc5a7/12f09/TCP-IP-2.png 148w,
/Note/static/7746046bf62f242686438214155bc5a7/e4a3f/TCP-IP-2.png 295w,
/Note/static/7746046bf62f242686438214155bc5a7/065e2/TCP-IP-2.png 577w&quot;
        sizes=&quot;(max-width: 577px) 100vw, 577px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
发送端在层与层之间传输数据时，每经过一层时必定会被打上一个
该层所属的首部信息。反之，接收端在层与层传输数据时，每经过一层时会把对应的首部消去。这种把数据包装起来的做法称为&lt;code class=&quot;language-text&quot;&gt;封装&lt;/code&gt;。&lt;/p&gt;
&lt;h2&gt;与HTTP 关系密切的协议：IP、TCP 和 DNS&lt;/h2&gt;
&lt;h3&gt;负责传输的 IP 协议&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;IP&lt;/code&gt;是一种协议的名称；&lt;code class=&quot;language-text&quot;&gt;IP地址&lt;/code&gt;是一串数字。IP协议的作用是把各种数据包传送给对方。IP 地址和 MAC 地址时确保传输到对方的两个重要条件。
在网络上，通信的双方在同一局域网（LAN）内的情况是很少的，通常是经过多台计算机和网络设备中转才能连接到对方。而在进行中转时，会利用下一站中转设备的 MAC 地址来搜索下一个中转目标。这时，会采用 ARP 协议（Address Resolution Protocol）。ARP 是一种用以解析地址的协议，根据通信方的IP 地址就可以反查出对应的 MAC 地址。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/d0a0e719e2c804674c22146c3b943964/87254/IP.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 91.21621621621621%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADKElEQVQ4y4VUy27TQBTNr/ADLNghJBB7vgFWbNiw4Ucoqy5ACNiBEJW6QrAAJCQEotCS0KZuHL/t+DF+xXYcJ4d7bxIoqMBIEyv2zJl7Hnd6y+USPJqmQaoU0jSVmee5PFWSQKkEbdvKOl6/2XPW6PFPnmVI4hhRGMGxbdiWBcdx4fu+vGPwOIrQdd1/QQVwWpZUYS0bFAG7jgNrDVrXtUyudDM2YGeBCuBkMsGbN29hGAY8z8Xw6IgqtWCMxzJNep8Q4GzWMMxfwQTQMEw8fPQY20+e4sXODgKiyQCD/gCu62Ks69BHOizTRP/gAL7nryn/on569haLBTRNw72tLUSkU1U38Ki6xbxFRiZZBD6i7x4B1fRtEgRi4D9NKUj058+eoSMnywVwFJbYNyc40k1oYws6sfAdm/SlA8tCNi66uWjtuZ4UMZ/PxQMBbEh027LJnKksbomOKmsMLAL1EhiqhhYWGMUlKjqwnC+R161Uy5KdjMaiMTPobQRm6huhmWpG2evIhFzFsClKfhjDCxMM3RhWRSzSuay1vAn62vgX5T/d4tI5f5w9jk1GGQ3InDxVWLQzhI4lZjXdap8TKvQNMooK+qkhg3InLNYv26ZCmsTIaAYUbCuIYFAl30jXL2aEfSuCalYhN20HeweDn+wEsKoq7A2GqwDPSB9a65FYAzdB3wwwigrYaY0wzZGV1W+MMmpP1nJ52mUG/KzZYs646HDoKbj+BKookRH1KPBgjE5QEP0iz8hZl9gspYDT3SM55D/sztuPX2lzIScNhpr0d0Wb9/f2MDz8DkMfSSWsLYdf6BpjvPvwCd9Nl3K01pCzw5u5O2YUWM6hUy3RdxW+miEOdOoWN4DphXTrKKpSoZuvbp7+8BhXrt/CuRt3cP/V+xUgn3p8fCwBLYuCgltKv2404XMT0lTRDAknmAF22YETe3f7AS5cuorzFy/j2s3blBAKNrvL2rGO1XQqurA+PBJqRV07oSwm8CmLFk2VZvDTKfR0Bn8SYvflazzd2cW3wSE6ot07qx83EeCKfT8gELpoVSp3ZhzFlMkUbT1dt2An199m/AD07VJQPBJ2MAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;IP&quot;
        title=&quot;IP&quot;
        src=&quot;/Note/static/d0a0e719e2c804674c22146c3b943964/fcda8/IP.png&quot;
        srcset=&quot;/Note/static/d0a0e719e2c804674c22146c3b943964/12f09/IP.png 148w,
/Note/static/d0a0e719e2c804674c22146c3b943964/e4a3f/IP.png 295w,
/Note/static/d0a0e719e2c804674c22146c3b943964/fcda8/IP.png 590w,
/Note/static/d0a0e719e2c804674c22146c3b943964/87254/IP.png 604w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;确保可靠性的 TCP 协议&lt;/h3&gt;
&lt;p&gt;为了准确无误地将数据送达目标处，TCP 协议采用了三次握手（three-way handshaking）策略。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/ad3bb4ac8666cc71e26b48aa101b74ef/5aae9/TCP.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACF0lEQVQoz21T227TQBDNV4Eq+DNAfUEg+lYh8dw/KBISoLYSkWhTWprmSpq0TezYdWI761t8ib2+HGadpGkpI41nd71zfGbmuHKqJzg3OY5VH4cDHcd3Ae1T1Og8ygogz5FlGdI0RUFrYUVRPInrdaXJONoWR30aoiaxMv6xU3TIvSiGbTEYhgHGGBzbRkbAwnICXwM9BK7kq83a5kEA5kcQaXPXwaDXgyJJUGQZY3kMzpOSre049zmPGIqHNrMxYe4S0PNgBTE8qm7ic3QlDUN1Co058ImxsCRJYBNbaTRCFEWPgCs/6y282vuC7b3PaPb6CImhYKYSI03ToKoqbsYaujcyBqqO2aLANQvhByEufp9j+81rfP/2dcMwDCN82j/E/o/T8sBxXQyHt+i0OpAJ1KT+9dotXJEr0ghJmiFYJPD9Od6+e4+XW1t48fwZjg4ONiUf/Wqg3u3fA5r6FA4NQ1UUjEYSzi4u0bqWcWf70BfAzF/Aoyqq1So+7u5i58MOmo3GElBMyzR0mCYrD7z5HCYlzIKEYozWrYLL/hD9IbWA7oiWiElbllXe9+k+5+mmh+IhQPOVxmzXQ8cI4GcEHqfwXRtjasHZSQ0TdVzKiK8ARS7nvPR1fuXhhNZTnocLWHEBO86hOiGuFANtGsqU2eVHBMCMsf+KvPKvOIUkcvoz1pavnNNrh5PEwmU1cRw/0aCIfwFgFzrsQPZdIAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;TCP&quot;
        title=&quot;TCP&quot;
        src=&quot;/Note/static/ad3bb4ac8666cc71e26b48aa101b74ef/fcda8/TCP.png&quot;
        srcset=&quot;/Note/static/ad3bb4ac8666cc71e26b48aa101b74ef/12f09/TCP.png 148w,
/Note/static/ad3bb4ac8666cc71e26b48aa101b74ef/e4a3f/TCP.png 295w,
/Note/static/ad3bb4ac8666cc71e26b48aa101b74ef/fcda8/TCP.png 590w,
/Note/static/ad3bb4ac8666cc71e26b48aa101b74ef/5aae9/TCP.png 610w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;负责域名解析的 DNS 服务&lt;/h3&gt;
&lt;p&gt;DNS（Domain Name System）服务是和HTTP协议一样位于应用层的协议。它提供域名到 IP 地址之间的解析服务。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/577881f8cee599505d692a909662c49b/36bb5/DNS.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 64.1891891891892%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACPElEQVQ4y21TTW/TQBDNz+QPcEPizokrEj0ghDj0UClSkZAo4UtUVKIXhACpKSE0iZMqiVLXX/H3eteuYzuP8cZxrNKRRrNOdt7uvPe2BYr1el0WJHGMIPDBWEg1qNP3PPqNYbt3m3d9t7aLIGTwfR9hGMI0TDCqQggJtFplEjikrEGqmhcFigZoC9tYJQg9F/PZTDaWYJwLuK4rv8uDCmquJ6oucjtaRZFDmVzi4atTvDw6hraYgxOY5zqwTQOCxvfpoIhqRKBZelM3+3TQ6d9LfOiO8Lv3R1LVSmnDxWCIe3uHaH/5hiRJYFGPGRcYWwGUJcPQYhgYAS40DzMvwYStMRdAr9/H/f0OHrQ/o/PuPcbKaDfy2zdHMK5V5LQ+I0SN51CpacFWBCIwNgOZU1fgbKpjGaWy73u3h2f7B5gRVTWHJTeKomCuW7gSG3IzoohzjqWhwbVMuEtLpkepXy0QRxvVE8Ghq+qOww3JO6KnYQY7zuWfrLQQ8WbbDgxS3nFcKZLtOFK0MvKGUOXFats0NTOIP00UEITLSOmYRzA1DaPhAAFZK71JqKGo90c0yboCbjVtIH2VEwopL9IMJl/B4HTjG7q55UNZ6LBcH5rtIUgyqX7vvIuvJyd4/fGY+Ow3ACsu3Wosj2ppmXKtEreqZsBhAkEGXHOagDSZTCZ4/GQPLw7aePT0OQ47n3Yq//eUGusNIXcloOkGfvz8hXPyYZZljZfSAL0dNUTjiRXV3pR8u7RIeV2XHv4HU+LbZEnshKIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;DNS&quot;
        title=&quot;DNS&quot;
        src=&quot;/Note/static/577881f8cee599505d692a909662c49b/fcda8/DNS.png&quot;
        srcset=&quot;/Note/static/577881f8cee599505d692a909662c49b/12f09/DNS.png 148w,
/Note/static/577881f8cee599505d692a909662c49b/e4a3f/DNS.png 295w,
/Note/static/577881f8cee599505d692a909662c49b/fcda8/DNS.png 590w,
/Note/static/577881f8cee599505d692a909662c49b/36bb5/DNS.png 611w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;各种协议与 HTTP 协议的关系&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 481px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/74632662cb75c76bfed2e22f2a51d8fd/d024a/HTTP-TCPIP-DNS.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 144.5945945945946%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdCAYAAACqhkzFAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAFQ0lEQVRIx4VVa4/aRhTlt/djpUqNVClVm0StKvVLX0qy3bR5dMMmIeG1D8BgG9vY+AUGg99gDJzemcXsJo3Uka6MYeZw7znn3ql833Lxxckl7n2w8J2Q4H4nwLcU37RnGPkp2Nrv8b9rT5tYVJ53dDxpK3jcVvGkKeHkQsFJS8bjhghnvgR2BTbrNdZZhvXqM5Gl2O+2R+DKJg5woYx5rKMAtmXBm80wozBtF5JmwJktkG22SA9Rfl4VO8TrDfwgxCJKEMUxKkmwwNePz/DwtArBS/HlZYB73ZDHg36IR4MAP8gJftLWeCjGeCQleMgjxoNBhPv9GD/WFXz163M02peobIsCmqJgPNJQUMpyuIUa73loCSDRuxkXiPIdPH8JaaihO5DQYyHKGJkO4jRDXxQRhiEqcRzBm06xWC4ZtfAdC64xgq2rEHoC3OkMuhfAmAXIaO/cm8InOiI6nKUJUvpuRTyyxAqKSpamd5TaQTVMtIUhOrKOK0FGX9HRFYcwLJdza1kmPM9DKXwURUiIu6Mo6QFwt9vxZ2dk45fqBZ5+6OG16KCm+XgtT9G1l5+1y4qyTJLkaJ0jIPPankDV0U1GPUlBT1ahOxPo9hQmPQOiJQwDXm5ET3+xgGa63DqfAbwxpmnoUIcSWo0GhG4Xju1g6jowdJ3KtTA2DIw0DZZpIc/XGHsLKF54U+VdQLa2W/IYGXi325NpVygoa8Hy0TNnuDKmEEwPQ3JEXyCxHJd8lyDPEvRd8mH+CYcsO6YUA2QrX6/guC4GqgFxqKLTl9AZyFAUFb7vH5NggjAOlWh3k2EJUAqzKt+pnearAs+aXdTPz1A7r6LRFZFka841q4YlwVRmWc7XwCTdorIkYnPqVQbE/k3XRxiNRlBkGa47wZSs4k0mmJFVJsyvtJ+JUwrkkS9XVCX5HqOIfLjZbDAYKpgtlmTMDVRVwZDeJUnC1eUV7wIGFoURfDpcVlTajCXCMNjSSsC39Ra0scWNzUrg3BAvQq8H2U94Vgx0HKSo1WqQxcGR9xWJtykK/t71N6jkBFit1TkgE6UUaU4gP5++wshbcrv4/hzTOMNp9R3eNS+OvK+JrvyQoRQUrJdjDEQJtuPwH+fEGcvaJd5+O3mGub+gbGMOOJl6EEh1zXK4C9ifB0HA97NW5ByWbVP6cEyiyJIIsT/gUygMlpy/jErbbnLeaqz/2bmMOmRBFsrpt5SqNhhgSfL+MBwWCx/z+RzOeAzJcPCiLaD+7i3vGmtGwu0+vg+SJEVB2ZrpDiFJ/dG0YRkyko+NT4frPRFS9xr9bgciTe9Pr5cV0TGPUmjxjeqVLPsYkPFYLjYrzxrXqF5JOG91KMsO72Gb+psJxXybZitcuxFvU1bnfzJ0bZsbmQ1d0zRR7wwoRDSuurhst9FuNtG5viZQm6w0Rd9wMY+z22lTthp7YWbVaZJIpHq/38dFq4UJ9TObygHZKIxuBymbziyBkFTODzRxQN6L+ea4cWhN8epCxN/vr/CyJeCf9gAvmgLedod4L2io9VS0ZOO4P2Wq30mqolGr6TTrUrLBmsp3aCyNyOQsdNPG2LL5Z0G3cT4YoylSrxtjvn9F9zIbtiXvHJD56AMN0z9On0OlyZzRnZ0Rwyt6xps9rHQPh/bbVNVByNtxRyWzyPP8FpB1yl8vX+H3p39CnIYYU/ZWsoVBpz0CUuYpThp91Kjc82sZ1Y6Cs2sqX7ZQVyeQ6ExxaL0bQOLQpZtMoQnDOmFLJi0OsS9yPuJfNnt401XwhgDfEJdVerZUF8Ik4uP/bob/AvZgf6sqez+aAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;HTTP TCPIP DNS&quot;
        title=&quot;HTTP TCPIP DNS&quot;
        src=&quot;/Note/static/74632662cb75c76bfed2e22f2a51d8fd/d024a/HTTP-TCPIP-DNS.png&quot;
        srcset=&quot;/Note/static/74632662cb75c76bfed2e22f2a51d8fd/12f09/HTTP-TCPIP-DNS.png 148w,
/Note/static/74632662cb75c76bfed2e22f2a51d8fd/e4a3f/HTTP-TCPIP-DNS.png 295w,
/Note/static/74632662cb75c76bfed2e22f2a51d8fd/d024a/HTTP-TCPIP-DNS.png 481w&quot;
        sizes=&quot;(max-width: 481px) 100vw, 481px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;URI 和 URL&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;URI&lt;/code&gt;：统一资源标识符(Uniform Resource Indentifier)用来标识服务器上的资源。
&lt;code class=&quot;language-text&quot;&gt;URL&lt;/code&gt;:统一资源定位符(Uniform Resouce Locator)是资源标识符最常见的表示格式。
URL时URI的子集。
区别：URI 定义资源，而 URL 不单定义这个资源，还定义了如何找到这个资源（即访问资源的方式）。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;参考：&lt;/strong&gt;
&lt;a href=&quot;https://www.zhihu.com/question/21950864&quot;&gt;《HTTP 协议中 URI 和 URL 有什么区别？》&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;绝对 URI 格式&lt;/h3&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 577px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/4728cfbb0081a9633af6860fa542b405/065e2/URI.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 23.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAA80lEQVQY021Qi4qDMBD0/z/waMH6qNZHTKLxGTVmOqGU4+AWhuzOzixDovX0sBewe+L7EoH7j/+zu37n9bzg2UeHu9BJhUYoCKn5ShRlhU73kL1B3XYQSuNV1ai5q6kLesl9G3zcD+OE2QELj0Zyc4j7DRlx7ybcxYSXsZxX/DQGt3ZAMe1IzIFUzbiJjybXM30WiV4Ryxml2bA7z4TniTh+QDHFM8uQZTkcs0/jyKQlnkWJrmPKfsQjSVExqWa6lH2Sl0ipL6jp+wGhIk+zosFai53Yto20x7f8xS8RAk0dDmk4Bgi1LAuUlDDDgPP4cOHWG2uFflDAlBGlAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;URI&quot;
        title=&quot;URI&quot;
        src=&quot;/Note/static/4728cfbb0081a9633af6860fa542b405/065e2/URI.png&quot;
        srcset=&quot;/Note/static/4728cfbb0081a9633af6860fa542b405/12f09/URI.png 148w,
/Note/static/4728cfbb0081a9633af6860fa542b405/e4a3f/URI.png 295w,
/Note/static/4728cfbb0081a9633af6860fa542b405/065e2/URI.png 577w&quot;
        sizes=&quot;(max-width: 577px) 100vw, 577px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;参考：&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://book.douban.com/subject/25863515/&quot;&gt;《图解HTTP》&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Windows 下使用tree命令生成目录树]]></title><description><![CDATA[了解 在看Vue.js的官方文档时，看到了这样的目录图，当时就好奇这是怎么写出来的，是由专门的语法还是通过手打出来的，于是就上网查找，发现原来这是通过命令来实现。
 查找 tree命令格式:
 /F…]]></description><link>https://zyycode.github.com/Note/window-tree/</link><guid isPermaLink="false">https://zyycode.github.com/Note/window-tree/</guid><pubDate>Mon, 29 Jan 2018 18:23:48 GMT</pubDate><content:encoded>&lt;h1&gt;了解&lt;/h1&gt;
&lt;p&gt;在看&lt;a href=&quot;https://cn.vuejs.org/v2/guide/instance.html&quot;&gt;Vue.js&lt;/a&gt;的官方文档时，看到了这样的目录图，当时就好奇这是怎么写出来的，是由专门的语法还是通过手打出来的，于是就上网查找，发现原来这是通过&lt;code class=&quot;language-text&quot;&gt;tree&lt;/code&gt;命令来实现。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 30.405405405405407%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAjElEQVQY053Qyw6DIBAFUP7/I6u0gI0VROS9uXVINF1aFneYsDiZGWathTEGtVaUUpBSupJzvt67YYQ9Ocd7mrBtrqGUHqyBVJxzUFJCCAGtNZZlaX8n+g/MYozY9x2feYZ4CQyPAfLAQwh9K1Px3kMpBX6sPo5jm5RO8Tvh3bBTJpQQu65tbep7bvgFVdPPuN2YVdIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;todo item&quot;
        title=&quot;todo item&quot;
        src=&quot;/Note/static/39d39e15712be398689c4cf183c45c66/fcda8/todo-item.png&quot;
        srcset=&quot;/Note/static/39d39e15712be398689c4cf183c45c66/12f09/todo-item.png 148w,
/Note/static/39d39e15712be398689c4cf183c45c66/e4a3f/todo-item.png 295w,
/Note/static/39d39e15712be398689c4cf183c45c66/fcda8/todo-item.png 590w,
/Note/static/39d39e15712be398689c4cf183c45c66/17602/todo-item.png 597w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;!--more--&gt;
&lt;h1&gt;查找&lt;/h1&gt;
&lt;p&gt;tree命令格式:
&lt;code class=&quot;language-text&quot;&gt;TREE [drive:][path] [/F] [/A]&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;/F 显示每个文件夹中文件的名称。使用时显示所有目录及目录下的所有文件，省略时，只显示目录，不显示目录下的文件;
/A 使用 ASCII 字符，而不使用扩展字符。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;在 &lt;code class=&quot;language-text&quot;&gt;Linux&lt;/code&gt; 和 &lt;code class=&quot;language-text&quot;&gt;Mac OS&lt;/code&gt; 系统中tree命令有更强大的功能，但在Windows下只有 &lt;code class=&quot;language-text&quot;&gt;/F&lt;/code&gt; &lt;code class=&quot;language-text&quot;&gt;/A&lt;/code&gt;&lt;/p&gt;
&lt;h1&gt;实践&lt;/h1&gt;
&lt;p&gt;OK，Let’s do it now ! :smile:
首先，建立相关的测试文件夹
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 235px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/90fd3ebe1b1c5c9a2090b0ef02124ddd/6783b/tree-file.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 82.43243243243244%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACY0lEQVQ4y42TW3OaUBSF/f9/ozN96UNeOn1pp31qZpo2TRBFjShGELmIXMQL4fJ1gzENiZn2zGwO7L3PYp21zumoPihOzg+zwPRGLO1LPisuX1ULLYTBY/RX0PUqVI8zUUkNhquSTl5WVMAm3RJEO/LoG1mqY1oud7qOcW+h61PiTUopfXV/0QTP4vidy6NDAwf7vYA95BB9odjO8N0Ay5yzXDosLIs8z5u+qjr2t0f1WBPAun5qSpIt2V72F34ijXwWAra0F9gSprmQ+qbpK8uSUtZUT3GErPOdU7JOxUnKw96n8D6wS0Lmpi3sTGbGlMnEIN3uODdOhBrAl8l6FLupiHqJ7wUsFrbMrkjgYTuyfZHBmM0kb+H7Kw6H7Gn9C4Z1sjj+Ke1RrD7iOB76WEfr91nMTeaipXk/Y3w3ZjQaMhwORYb0NeBJ2FrUBnBvUG5+C4M108kEz/VZCjtHtLSE8XJpE8fJv7b8V5Mi1SC4wLJsBn0Na24xm8tWJ2Nhq8kxGsu7wSFrO1/PLVPSdMfDQVxOvpPGIasgJAoDNkmC67gE61B6NoRh1GLXYvg8EYYJ2c6hdN+RrH1G4wl3opUx0VHVnjg9bdhpg8FZwPqsvuGyATtFBN+RxDFRFIlmMeF6TRCsmu9gtRK229baBvC8yyqlfyGH2aGnqhjGTNy9Z6Bp9MXxrqIK464cHec1YJv6o8uHOcVGkfstDJO4ie12K8zCRs+N3Os0TcmyrLkiZwFPd7EBTH5RuO/FiIB+r4uiKMJM4/bmmpvrn1xdXaPc3qKLpm8ybNtfUBYP/O94DvgHabbKZYFVmSEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;tree file&quot;
        title=&quot;tree file&quot;
        src=&quot;/Note/static/90fd3ebe1b1c5c9a2090b0ef02124ddd/6783b/tree-file.png&quot;
        srcset=&quot;/Note/static/90fd3ebe1b1c5c9a2090b0ef02124ddd/12f09/tree-file.png 148w,
/Note/static/90fd3ebe1b1c5c9a2090b0ef02124ddd/6783b/tree-file.png 235w&quot;
        sizes=&quot;(max-width: 235px) 100vw, 235px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
然后在DOS中进入目录 &lt;code class=&quot;language-text&quot;&gt;E:\test&amp;gt;&lt;/code&gt;
输入相关命令，你可以选择在DOS中直接显示，也可以存为txt文件&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;tree /f              // 直接显示
tree /f &amp;gt; tree.txt   // 存为txt文件&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;结果：
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 363px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/54b4f81d4feaa454a4df59cdc7f3877a/4e786/tree-txt.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.21621621621621%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABsklEQVQ4y42TaXPaMBiE8///VZvhGzTBTvGJkcEX+ALMYRvs7UptMiW4NJrRWD70eN/dV0/P377DcWxMJhOMJz8wnU7h+z5mhgHTNGBbNuIkgcn7MIrhC4HRaITj6Qw5+r7H3+PpTdcwHo9h2TZeX17huC6WBJqmSVAMz/NgEtq2La7XKzoC+j9zEBhHIeqmvXnZdx2apiHgokByDo3PMAXcbXeojkelKowiBEGINMsHN3+egwp35U4tLhep5rciqe4e8G9VN8A8zbBebyCEjyLPUJRb9F9UNlhy33c47CvMGYbjOJjNZgjDCAmTbaj4q959ANUHTO9QHVAWJQxDtooJ23GRxAk2mw19DVTrpGmK/X7/WKHyj55VBLZ1gyAM8fNNh+t6cKlY13VomqZ+tFytcGCA/wV2DESqK7YlvRQQC4+bA/bgApZlwV+uqKxiezV3sLuU3x80dQ0ZkMNSfeFRaYyAUOmrnCXDOp1O9LV93Ic3L3jJ6JMQCx5BDd58zpMzV8dRpw0GT8+CFRwJvrL5Hyp8L6M+n1GwfBmEhGdschnGep0gz7lmSGmWqb4dAv4CPVzneXWdF+UAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;tree txt&quot;
        title=&quot;tree txt&quot;
        src=&quot;/Note/static/54b4f81d4feaa454a4df59cdc7f3877a/4e786/tree-txt.png&quot;
        srcset=&quot;/Note/static/54b4f81d4feaa454a4df59cdc7f3877a/12f09/tree-txt.png 148w,
/Note/static/54b4f81d4feaa454a4df59cdc7f3877a/e4a3f/tree-txt.png 295w,
/Note/static/54b4f81d4feaa454a4df59cdc7f3877a/4e786/tree-txt.png 363w&quot;
        sizes=&quot;(max-width: 363px) 100vw, 363px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
之后就可以复制其中的内容了 &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;└─ToDoList
    ├─ToDoItem
    │  ├─DeleteToDoButton
    │  └─EditToDoButton
    └─ToDoListFooter
        ├─ClearToDoButton
        └─ToDoListStatistics&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[JavaScript知识点（一）]]></title><description><![CDATA[变量类型及计算 题目 1. JS中用  得到那些数据类型 typeof 只能区分值类型 2. 何时使用  和  ”(空字符串), 0, null, undefined都可以转换为 false 3. JS中的内置函数—数据封装对象 4. JS…]]></description><link>https://zyycode.github.com/Note/js-0/</link><guid isPermaLink="false">https://zyycode.github.com/Note/js-0/</guid><pubDate>Sat, 02 Dec 2017 19:40:40 GMT</pubDate><content:encoded>&lt;h1&gt;变量类型及计算&lt;/h1&gt;
&lt;h2&gt;题目&lt;/h2&gt;
&lt;h3&gt;1. JS中用 &lt;code class=&quot;language-text&quot;&gt;typeof&lt;/code&gt; 得到那些数据类型&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;// undefined&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;123&apos;&lt;/span&gt;         &lt;span class=&quot;token comment&quot;&gt;// string&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;123&lt;/span&gt;           &lt;span class=&quot;token comment&quot;&gt;// number&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;          &lt;span class=&quot;token comment&quot;&gt;// boolean&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;// object&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;            &lt;span class=&quot;token comment&quot;&gt;// object&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;          &lt;span class=&quot;token comment&quot;&gt;// object&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//function&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;typeof 只能区分值类型&lt;/p&gt;
&lt;/blockquote&gt;
&lt;!-- more --&gt;
&lt;h3&gt;2. 何时使用 &lt;code class=&quot;language-text&quot;&gt;==&lt;/code&gt; 和 &lt;code class=&quot;language-text&quot;&gt;===&lt;/code&gt;&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;a &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/*
        这里相当于 obj.a === null || obj.a === undefined, 简写形式
        这是jQuery源码的推荐写法
        除此之外都是用 ===
    */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// 这里也可以使用 == ,但是 == 之前的变量必须要有定义&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;”(空字符串), 0, null, undefined都可以转换为 false&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;3. JS中的内置函数—数据封装对象&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;Object
Number
String
Boolean
Function
Array
Date
RegExp
Error&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;4. JS变量按存储方式区分为那些类型，并描述其特点&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;值类型&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; b &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 100&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;引用类型：对象、数组、函数（节省内存空间，以指针方式存储）&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; obj1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;x&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; obj2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; obj1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
obj1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 30&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;5. 如何理解JSON&lt;/h3&gt;
&lt;p&gt;JSON只是JS的一个内置对象，Math也是&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stingify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;a&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 对象 -&gt; 字符串&lt;/span&gt;
&lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;{&apos;a&apos;: 10, &apos;b&apos;: 20}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 字符串 -&gt; 对象&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;原型和原型链&lt;/h1&gt;
&lt;h2&gt;知识点&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;构造函数&lt;/li&gt;
&lt;li&gt;构造函数 - 扩展&lt;/li&gt;
&lt;li&gt;原型规则和示例&lt;/li&gt;
&lt;li&gt;原型链&lt;/li&gt;
&lt;li&gt;instanceof&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;构造函数&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; age&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;age &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; age&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;class &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;class one&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//return this  //默认有这一行&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 创建多个对象&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; f1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;zhansan&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; f2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;lise&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;构造函数的扩展&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;var a = {}&lt;/code&gt; 其实是 &lt;code class=&quot;language-text&quot;&gt;var a = new Object()&lt;/code&gt; 的语法糖&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;var a = []&lt;/code&gt; 其实是 &lt;code class=&quot;language-text&quot;&gt;var a = new Array()&lt;/code&gt; 的语法糖&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;function Foo() {...}&lt;/code&gt; 其实是 &lt;code class=&quot;language-text&quot;&gt;var Foo = new Funcion() {...}&lt;/code&gt; 的语法糖&lt;/li&gt;
&lt;li&gt;使用 &lt;code class=&quot;language-text&quot;&gt;instanceof&lt;/code&gt; 判断一个函数是否是一个变量的构造函数&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;原型规则和实例&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;所有的引用类型（对象、数组、函数），都具有对象特性，即可自由扩展属性（除了”null”以外&lt;/li&gt;
&lt;li&gt;所有的引用类型（对象、数组、函数），都有一个proto(隐式原型)属性，属性值是一个普通对象&lt;/li&gt;
&lt;li&gt;所有的函数，都有一个prototype(显示原型)属性，属性值是一个普通对象&lt;/li&gt;
&lt;li&gt;所有的引用类型（对象、数组、函数），proto属性值指向它的构造函数的 &lt;code class=&quot;language-text&quot;&gt;prototype&lt;/code&gt; 属性值&lt;/li&gt;
&lt;li&gt;当试图寻找一个对象（引用类型）的某个属性时，如果这个对象本身没有这个睡醒，那么会去它的proto（即它的构造函数的prototype）中去寻找&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 所有的引用类型都有可自由扩展属性&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; obj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; arr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
arr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
fn&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 所有的引用类型都有一个默认的隐式原型属性&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_proto_&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_proto_&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fn&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_proto_&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 所有的函数都有一个显示原型的属性&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fn&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;


&lt;span class=&quot;token comment&quot;&gt;// 所有引用类型的_proto_属性值指向它的构造函数的prototype属性值&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_proto_ &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 构造函数&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; age&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;alertName&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 创建实例&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; f &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;zhangsan&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;printName&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 测试&lt;/span&gt;
f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;alertName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;printName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 循环对象自身的属性&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; item&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; f&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/*
        高级浏览器已经在 for in 中屏蔽了来自原型的属性
        但还是建议加上下面这个判断，保证程序的健壮性
    */&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 原型链&lt;/span&gt;
f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 要去 f._proto_._proto_ 中查找&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;instanceof&lt;/h3&gt;
&lt;p&gt;用于判断&lt;strong&gt;引用类型&lt;/strong&gt;属于哪个&lt;strong&gt;构造函数&lt;/strong&gt;的方法
f &lt;code class=&quot;language-text&quot;&gt;intanceof&lt;/code&gt; Foo 的判断逻辑：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;f.proto&lt;/code&gt; 一层一层往上，能否对应到 &lt;code class=&quot;language-text&quot;&gt;Foo.prototype&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;再试着判断 &lt;code class=&quot;language-text&quot;&gt;f instanceof Object&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;同样在 &lt;code class=&quot;language-text&quot;&gt;f.proto&lt;/code&gt; 一层一层往上找，直到 &lt;code class=&quot;language-text&quot;&gt;Object.prototype&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;题目&lt;/h2&gt;
&lt;h3&gt;1. 如何准确判断一个变量是数组类型&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; arr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
arr &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// true&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; arr&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Object, typeof 是无法判断是否为数组的&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;2. 写一个原型链继承的例子&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 动物&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Animal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;eat&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Animal eat&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 狗&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Dog&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;bark&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dog bark&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;Dog&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Animal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 哈士奇&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; hashiqi &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Dog&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
hashiqi&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;eat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
hashiqi&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bark&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;面试中千万不要上面的例子，应该写更加贴近实战的例子，上面这个例子只是用来理解。&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;一个封装DOM查询的例子&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Elem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Elem &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;Elem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; elem &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; Elem&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;val&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        elem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerHTML &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; val&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; elem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerHTML
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;Elem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;type&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; elem &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Elem&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    elem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fn&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; div1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Elem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;div1&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
div&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;p&gt;hello&amp;lt;/p&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;clicked&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;p&gt;JavaScript&amp;lt;/p&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;3. 描述 new 一个对象的过程&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;创建一个新对象&lt;/li&gt;
&lt;li&gt;this 指向这个新对象&lt;/li&gt;
&lt;li&gt;执行代码，即对 this 进行赋值&lt;/li&gt;
&lt;li&gt;返回 this&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;4. zepto(或其他框架)源码中如何使用原型链&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;阅读源码是高效提升技能的方式&lt;/li&gt;
&lt;li&gt;但不能“埋头苦研”有技巧在其中，阅读之前在网上先搜索一下资料&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Hello Hexo]]></title><description><![CDATA[Hexo 官网地址：https://hexo.io/ 安装  和  在使用Hexo之前，必须要先安装node.js和Git…]]></description><link>https://zyycode.github.com/Note/hello-hexo/</link><guid isPermaLink="false">https://zyycode.github.com/Note/hello-hexo/</guid><pubDate>Sun, 05 Nov 2017 15:16:08 GMT</pubDate><content:encoded>&lt;h1&gt;Hexo&lt;/h1&gt;
&lt;p&gt;官网地址：&lt;a href=&quot;https://hexo.io/&quot;&gt;https://hexo.io/&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;安装 &lt;code class=&quot;language-text&quot;&gt;nodejs&lt;/code&gt; 和 &lt;code class=&quot;language-text&quot;&gt;git&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;在使用Hexo之前，必须要先安装&lt;a href=&quot;http://nodejs.cn/&quot;&gt;node.js&lt;/a&gt;和&lt;a href=&quot;https://git-scm.com/&quot;&gt;Git&lt;/a&gt;,下载完之后和一般安装软件一样点击下一步就可以。安装完之后打开命令提示符或者 &lt;code class=&quot;language-text&quot;&gt;WIN + R&lt;/code&gt; 输入 &lt;code class=&quot;language-text&quot;&gt;cmd&lt;/code&gt;,输入 &lt;code class=&quot;language-text&quot;&gt;node -v&lt;/code&gt;,若成功则下图所示:
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 28.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAaklEQVQY073MSwqAMAxF0YD9d2QpkpauQd3/5p6J4NwPOLghBHKImdF7xxgDrTWwtEq73LdaUUvBLJWbkY4YI0IIcNbCSOwcmvdYiEBPyzmfYEoJXhCFaZqeQ1cKKKaw7oobY96DHx7/AQ9i0X6zy9CuvQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;node test&quot;
        title=&quot;node test&quot;
        src=&quot;/Note/static/03b350026e7c0b5c1f4ab85328f30998/fcda8/node-test.png&quot;
        srcset=&quot;/Note/static/03b350026e7c0b5c1f4ab85328f30998/12f09/node-test.png 148w,
/Note/static/03b350026e7c0b5c1f4ab85328f30998/e4a3f/node-test.png 295w,
/Note/static/03b350026e7c0b5c1f4ab85328f30998/fcda8/node-test.png 590w,
/Note/static/03b350026e7c0b5c1f4ab85328f30998/3dd3e/node-test.png 595w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;在开始菜单中找到 &lt;code class=&quot;language-text&quot;&gt;Git -&amp;gt; Git Bush&lt;/code&gt;,则安装成功。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 232px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/e41a9a2bd3250083cedaaf645517898a/6a451/git-test.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.70270270270271%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACGklEQVQoz32S3W4SURSFzwvQQqHA/JyZgRpbfuYPHNBUKIFKgbZpoVBtbKxpQtQ2vdNE30QvNGk1keCVXlivvTK+gQ/Q51juMwyketGLL2uf2bPXrNkzrPzyHYwX77FU2oBr5ZA3bViWA5uwLDuAzjadA2zbhe24E/Vx/HtEj41/f0fv4he0+hDPjg/RaG8iQyZ20YNZKMIiHLdwI8J89X4FXqkMlnk1RvRkBKPcQuOehzoZrWZzqFLSSt5E2bRmyWYEiZ1ruGQqlIWsNlLPv0I/GaOUraEdj2JNT6EqyaiqHN1EEmlSjeswuIbUVDUdac3Akm74Ks6ix+aKfRx+ukJvdAnP6+FxdxuN7h72nxyh8+gAO8sr0OMJSIoKRVagyiqhBFCtBMgT2EKuDvn0HNHTC9y9XcFOLIxaUkKLmg3SvdgiOA0naUgmpH9QIMkBygQWcTawcnaJzNkIC24L+ZSG5fQtmJSsQDtMGylIkgJFGNLghEktrv0PCxUHOPh8hYfjH5gr72Owu4V6s4Vuf4Dj4RB5+uIS7dFQNXAaEGiB6rRbgabwWY9Fs2sIP32L+aMPiFCdiEWQoERxMlkUuxO78k24rzyop6qpouazB7GI28Gd1z/hvfmCcHETBTOLTM70f488vfLUUFf5tYTcH/YJEk7TspDbQ//8D3ofv2G+1Mdup4lafR1bW9tYf9BEgj7M1FC9wdBX4i8FjVfz38p1YQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;git test&quot;
        title=&quot;git test&quot;
        src=&quot;/Note/static/e41a9a2bd3250083cedaaf645517898a/6a451/git-test.png&quot;
        srcset=&quot;/Note/static/e41a9a2bd3250083cedaaf645517898a/12f09/git-test.png 148w,
/Note/static/e41a9a2bd3250083cedaaf645517898a/6a451/git-test.png 232w&quot;
        sizes=&quot;(max-width: 232px) 100vw, 232px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;安装Hexo&lt;/h2&gt;
&lt;p&gt;在&lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo官网&lt;/a&gt;中，可查看相关命令来进行下载安装，通过文档来进行使用，简单易上手。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 43.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABiklEQVQoz32R207CQBCGeyl4oRZapKWlLfQEVA5FKMghYjTB+AjGVyRIUREeyBfwcGH8nV2VGDRs8vWf3f1nsjMVxPo5rFIE17Ch2hXoTgCNVLPL0Emzpoes4SKTd/4g6TY0w0HDoTzjay9IhoeSVoRLyJQo02E6V+Aq0RmLU6q1RlS+VKY7iYrq5ItyFle2FzIUuHRgsmSiWG7Aq7VguEfw622U6hEqYZcTHPdwRATNLu9A0mxkKT9PeQqpzAqyT5o9n0EXTtCkpBOYXpWKdBAQbM+K1MIW6tEAtXafRlPhfvk7lyl7nLA5F9aiqJhI5YrQvBC6H8L0G8gT4uAae2oRKcXg8/pvrgIf+i8Uy+fKWuycjhENLxD0x7C7lwivblCoNPlP+vFtIiRTCpKiggTB4l0icZDlczzujRBSi/nmCGL1DGFnCNXysLN/SD6V+zcR7hdLLJYrLFcrsJjzuMI0vsNkGmNyG2M2i/EwjzGdzTG/X/D7tXcDAbTeiKcXbF2vxPMH8L7dhk9GXFRPaNpOJwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;hexo use&quot;
        title=&quot;hexo use&quot;
        src=&quot;/Note/static/ac4e0bfa2e34e66ce37796d6d56eedda/fcda8/hexo-use.png&quot;
        srcset=&quot;/Note/static/ac4e0bfa2e34e66ce37796d6d56eedda/12f09/hexo-use.png 148w,
/Note/static/ac4e0bfa2e34e66ce37796d6d56eedda/e4a3f/hexo-use.png 295w,
/Note/static/ac4e0bfa2e34e66ce37796d6d56eedda/fcda8/hexo-use.png 590w,
/Note/static/ac4e0bfa2e34e66ce37796d6d56eedda/efc66/hexo-use.png 885w,
/Note/static/ac4e0bfa2e34e66ce37796d6d56eedda/c83ae/hexo-use.png 1180w,
/Note/static/ac4e0bfa2e34e66ce37796d6d56eedda/3d405/hexo-use.png 1348w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# Hexo使用命令
$ npm install hexo-cli -g #在全局下安装`hexo-cli`
$ hexo init blog          #在当前地址创建`blog`文件
$ cd blog                 #进入到`blog`文件中
$ npm install             #使用`npm`进行安装
$ hexo server             #在本次启动服务器进行预览&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;安装完之后可以在blog文件夹中看到相关文件:
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 35.13513513513513%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABQUlEQVQoz21Q2W6DMBDk/3+rfWyktI3aXIQA4TCXOQxOiu3p2gmVInXllQ0ez7GeyddIV6/IPr9QbbfQrADKEoba7poxNPs96t0O59UbxjAE22xwy3JgGmF443DIMqAf4Bn2gWT1Ava9A1oOVJUjc4R01kWB1vfBj0dc3tcYo8gJ/5CQI+w6etfCVDXMNBHhLUCe+2iFhC0DPO2amg+D6wu56OlRyTlmY/5wC9aWN4ka4emAKIyh5pluDa1727PWCrxpKFWJiNxNlpBc931/J3wQj+MIpRQ8KW/I0gxpkmK2hA/QAtRao6NYLcVKkgRSSnByaP8ttWAehBLBySf1mFSHfwnrunZ9DgIIMaIhx4xmqJR2GEtkRawhT16vYHmGOL6Qy4QuuqcoxmgMYsBAMywoqo0shHCOrJgTJUI7AkXfv3PnGQZP4u4fAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;hexo file&quot;
        title=&quot;hexo file&quot;
        src=&quot;/Note/static/32fb85ac2b7189bbbc89fd3702c05b51/fcda8/hexo-file.png&quot;
        srcset=&quot;/Note/static/32fb85ac2b7189bbbc89fd3702c05b51/12f09/hexo-file.png 148w,
/Note/static/32fb85ac2b7189bbbc89fd3702c05b51/e4a3f/hexo-file.png 295w,
/Note/static/32fb85ac2b7189bbbc89fd3702c05b51/fcda8/hexo-file.png 590w,
/Note/static/32fb85ac2b7189bbbc89fd3702c05b51/5754a/hexo-file.png 613w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;
{% note info %} 具体使用可查看&lt;a href=&quot;https://hexo.io/zh-cn/docs/&quot;&gt;Hexo官方文档&lt;/a&gt; {% endnote %}&lt;/p&gt;
&lt;h1&gt;Hexo部署到Github&lt;/h1&gt;
&lt;h2&gt;在Github上注册账号&lt;/h2&gt;
&lt;h2&gt;新建 &lt;code class=&quot;language-text&quot;&gt;username.github.io&lt;/code&gt; 仓库&lt;/h2&gt;
&lt;h2&gt;进入Github网站，输入你的账号密码后点击 &lt;code class=&quot;language-text&quot;&gt;New repository&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 357px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/5db986cb35317adfae071e08f285fe38/22d0a/github-new.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 112.16216216216218%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADX0lEQVQ4y51Uy24UVxDt/4gRAWwHEhkUJEAoiiJFJoBlXlJAjhIkxA+gZJGHhJQNWxaBDfwCm6zZ8PgDFhhmBj+wPZ73dE9Pz3317ZmTquppxTaDF7R0VFW3q+ueOnX7BjNfnsCnYvarEzhydA5zX5/C6dNnMX3sOILv5i9ghpzPPp/BgcNfYOrQJMxiavpYbg9OY4ryOP/kmW8wdeQoln5cwpNHj3Bwdg7B+cWrOLdwGecuXpqIebGXcf7b7/O86z9h/sKirP9A8fzCJSwsXsONpZsUX0GglIJAaxhjoMlqsuKPrXUOqlZD8vQp9PMXSG0GpyzBibUDC93XUifA+IniPjphj2yCbtRDsx2Krbc6qNYasJTju/T+3yf4e/kB/qr8gz/e3sfd8kP8XrqPe5XHyLIhguFwiOFwhEarjbeVVaysvsfrN2Usl96hVF7BcnkV79Y2MFDENh1hyyssPfsVvzz/DT8Tbr38k+I7uE3WWEcFRyOprCnwZJ3PxDJSBsU29VDGkiwkg2JZLBLFLRqxA4LRKRzlScvMUssHWjRMBgNCrm2WZRjRpjsx6fHeI+WCKTlckOlal8I4L2x5AwavF+/2Yu87rhWEUSwacmtpmqJV3aS2FBrNNjqdLk3ZotloScwbNMnWKWYJumEk69yqS7OcobRMbfSTBM4auKgOp5UkGMs7U7LL2+H22TK8aJ0JK7YC7/8/NvXaNlphgtK2R2XboLSl8WpN4c2mwkbLSs5O/XbqWfi8YRD3EwlkIMahr1IMtEdCYF9bL7FxmWjNJ+JjYNaBpqPAT5L06VBrrDcsMTJYrRus1bXYjaaRDYiL6L136rsYFpTDMKQzZXNmY3YDQ0wJvUHuZ2OG+c/wIVjHIK8OmihNNVLCcGXMqlLVwna9oVEPXaHe/gX5f81bToRhlOQMY+XJTwXtOJW4FTk0Cdl+BYs/QdNRiROL7a5DjcC23rXYpAmvN22+1rHoUPGC6b4axnGMXmLQ7ROjnqMPnWgXjmNeZ33DvkOLYm2ZyHAXW5ky33Vc0BiNmO411mqrw4yYHetnUK4qOpu5jus0+fc8dZN9oKe0zPcgP71ejy4EI61V2xaNyE24Aka7/IkaFi3zzcxD2WozDBqhlXaKq8wXh7fwJwyFNfwPcbEXRKxwftQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;github new&quot;
        title=&quot;github new&quot;
        src=&quot;/Note/static/5db986cb35317adfae071e08f285fe38/22d0a/github-new.png&quot;
        srcset=&quot;/Note/static/5db986cb35317adfae071e08f285fe38/12f09/github-new.png 148w,
/Note/static/5db986cb35317adfae071e08f285fe38/e4a3f/github-new.png 295w,
/Note/static/5db986cb35317adfae071e08f285fe38/22d0a/github-new.png 357w&quot;
        sizes=&quot;(max-width: 357px) 100vw, 357px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;点击完之后，填写相关信息创建该仓库&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/1a84be6935d80d21749468a0d41dd867/64d87/github-create.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 77.02702702702703%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB/0lEQVQ4y41T7Y7TMBDM+z8DiAeAH4f4CRKPANL9AiFdIZc234mT2IkT28Os2x4tHKdaGq1t2ePZ2XXinMM4jhHDMJ7mE7RAG5jFYjIzjLXQy4JlXREAhBD+gYwkBA9/WsjYTnDnjboCXwCaGmg7okXQ+lnSSKj5+sNDiqzs0CkN9e072i9fMdzfw6WPEdtjhlCRmOpAlXAelyNcCEoWuyLPK2RFjbrpMWV76CzDlKZQJFJFAXU4YGhaTPOC0RgoPaAfugjv/ROpIFn5asPDqlfRu3VzcNwTb2M8Y9vgqE6wCbgWCOFVyo4bolIwrxts18P+/AXLFC3VRuwPsCXXTN8WJVHA8rzlebkn8z+EVKJYXc1UZNP7EIv0N57M/0+FrwjbtsGBKgwLNNOnmXGRFuFcomXr3DKih+KB0T36rouElv0mpMc4sxf1lU8vISqUw3JRYJi2EAixNLmQ4oUUn0+ZhHXDlGl0XpYoaHpdN9jvc1pxVC0/RmwwjGKDRHn8LOCydRJw7ozHqjfMg40/RLN6atKo2UrdRBtcLMVtCvO5wqvdW7zevcOb9A5V9oPfq4cfB1AuUJUITD3ckHokLHWDu91HvN99wof0M/oyBehf2Nb4Z5kX4D1uHYke+dGNgyckyvBRDaIqyVZaS3wSv2W+8TdJJ4iHUrx4xx9V/gbMIpC2KZFAqAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;github create&quot;
        title=&quot;github create&quot;
        src=&quot;/Note/static/1a84be6935d80d21749468a0d41dd867/fcda8/github-create.png&quot;
        srcset=&quot;/Note/static/1a84be6935d80d21749468a0d41dd867/12f09/github-create.png 148w,
/Note/static/1a84be6935d80d21749468a0d41dd867/e4a3f/github-create.png 295w,
/Note/static/1a84be6935d80d21749468a0d41dd867/fcda8/github-create.png 590w,
/Note/static/1a84be6935d80d21749468a0d41dd867/64d87/github-create.png 818w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;在本地生成静态文件&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ hexo new &amp;quot;post-name&amp;quot;  //新建一片文章
$ hexo genernate        //生成静态文件在public文件家中
$ hexo deploy           //上传到GitHub上&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;在每次 &lt;code class=&quot;language-text&quot;&gt;hexo g&lt;/code&gt; 前最好先使用 &lt;code class=&quot;language-text&quot;&gt;hexo clean&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;使用 &lt;code class=&quot;language-text&quot;&gt;hexo deploy&lt;/code&gt; 上传到GitHub&lt;/h2&gt;
&lt;p&gt;可能会出现22号端口链接错误，需要进行git配置：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;生成 &lt;code class=&quot;language-text&quot;&gt;ssh密钥&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;在你的GitHub账户中添加生成的ssh密钥&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在本地的 &lt;code class=&quot;language-text&quot;&gt;~/.ssh&lt;/code&gt;文件夹中建立 &lt;code class=&quot;language-text&quot;&gt;config&lt;/code&gt; 文件，并添加：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Host github.com
Hostname ssh.github.com
Port 443&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;在上传之前需要在 &lt;code class=&quot;language-text&quot;&gt;站点配置文件&lt;/code&gt; 中修改地址&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;url: http://zyycode.github.io
root: /&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;使用GitHub Desktop上传&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://desktop.github.com/&quot;&gt;下载Github Desktop&lt;/a&gt;
选择 &lt;code class=&quot;language-text&quot;&gt;file -&amp;gt; clone repository&lt;/code&gt; 在本地创建仓库后，然后将你 &lt;code class=&quot;language-text&quot;&gt;public&lt;/code&gt; 文件夹中的文件拷贝中刚克隆的 &lt;code class=&quot;language-text&quot;&gt;zyycode.github.io&lt;/code&gt; 文件中。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACdElEQVQ4y3WSzU8TURTFZ63y1QrB+M8IFoxGBSxWCdG41pgY10bdo+3MtMxHi4JRaGHlv+CKaBQ7tSuXBIylhbZT2vnodA73TdOhtfiSk3vz0v7mnHsfFxy7hNHxywiMjmMoMIrh4JhfLwwFcH5wBOcGhjEwHPTuWGV3TIMjF3vE/sdN37iF6zdnSTOYDE3hymQIM3NhLCw+xFw4gtnwXdyZj+DewiIWHzxChOp85D5u028mp65h4uo0JkKn4mKijKVYAlE+DllRIIgi8vk8mk0bNV2H67bAjuu66D66XsPq2gdIsgI1mYSitsWpBFFVBbIs04UKQeDx9buGw+Mm/hweo261YNs2GobhQR3H8VSpVpFMrZCBOOKJZV+cQkDFg6pI0pcEQcDPrAaHjBmmBdOyqW+B+WtRZT07VQKmVt5BjCeQWJb6gUwdoKZpFLmJWq2GY1Kj0fBg3dF1Gkcy1QtklWPOmHqAuRzqholCseRFK5MMiuwBfYc6zY4i/ws802E2C7thoFI6hEkOW5aFzkpcfyl6X+Qeh/4M43Fo29swDw5Q3dtDeXcXVrEIlEpw9/fh/i20gfQhtpRToNTvkEF5cpjd2YFJz6JBUR2aH1oOy8q2Qq1D83VQLld6HHbExd68hUirlySJoCqi0RiyWs5zweZoU1yzUETddGDYtGVav2U3cXRUphmm+iMnqGnD2jPkeZ623AZ2Nvvt1wE+/6jgy+86vUeLgLa3rDMdSuxB+7FVD/5+dQ3pzCbWN9Ke0ltbyGxmkMlksJFu6+OndSxLsu/MBz5/LeDxCx7PXgl4+pLHE+qXoqI3yxj/f/GC6MO6oSeOPEAH00MVGQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;github desktop&quot;
        title=&quot;github desktop&quot;
        src=&quot;/Note/static/78523f2f9d3a0bb49bc3a48236699faf/fcda8/github-desktop.png&quot;
        srcset=&quot;/Note/static/78523f2f9d3a0bb49bc3a48236699faf/12f09/github-desktop.png 148w,
/Note/static/78523f2f9d3a0bb49bc3a48236699faf/e4a3f/github-desktop.png 295w,
/Note/static/78523f2f9d3a0bb49bc3a48236699faf/fcda8/github-desktop.png 590w,
/Note/static/78523f2f9d3a0bb49bc3a48236699faf/efc66/github-desktop.png 885w,
/Note/static/78523f2f9d3a0bb49bc3a48236699faf/d9199/github-desktop.png 960w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADNklEQVQ4y02TXW8UVRjHxyu/gNEiiK0VQny58gP4CfwKJl6ZQlvBUqi2RmsMF4R4IfFCL7wyAVGJkGrFgn0xBImoaUtLtbRLd3dmd3Z2uzvvZ87M7M9nlqIm+8t/zzNzznle/mP0H3qBwSMvcXDwCPsODrLv2ec5MHCYgcMv9tZPHRigT9jff4ji3UKffuY5ntzf33v2iD6J9cn7xumpad55/wyTH3zE6ImTwjhvn5pkbOI9hkbHGBo5wZvHjkvsXaamzzA+McXU0AhHx04z/NYYw8dP7jHOseERDKsVsF1zMR0XP4jQaUqSdfFVjhenohl+rBFBfj3yICZ3dsmL//8n0xh1u4HdaGDW6kKDmm1Rlku2nIwtW6GihDzRZHvkSQphBFadbt6lqzO6qaBT0RwjCEPiWBEEIa7rEyuXs4sJr33RZfQ7zQPbpu5UqTUt6sIDc5P79ibNsEkYdwgeIfvCxMPYbbfpuB7NVotGw8FuO7gqIpKSfckulhboPEMX5TYd9MY9VMMW3SBdXyddXiY1TdJUI7k/zDCUEqI4Fg3xQp8oTaSXmWSQEKoUpXOUlCOhh8hGWf5Hdy9WHNjpdHqltjsuTUeylAzvNWLulDOWKwmRXJYqhZYLtWgayVoqSj0fLarbHVLZq6VS7boYnu9LVpJlUpQn1+U+b3wV8/gkvHJOsTl7k9ZPC9R/XMCZW6I5O0/zyhytq3Ps/jCP//Mtwvlfe7gLt4sDAzyniV+poDte4QmGL8c8MQ2vfppwd3WNysYKpY1VKn+vUVr7g+3SXUqlVRnQX5SbJRncfXacbcqC0RLbtOs2QblC3JYDu4rXL6Y8dgpe/jjm4s5NZpxFrthLXBW+tq5zwbrGN40bfFu/wUx9iZmaIM+uObcwVNGXPKfbM2wgB6ZcWs6Z+D7jk18UK+Y2G2KT9dqm6BZ3qiv8bq1SDiwaahcxnaD+VUPLV5ErMa9kmYvndKj2fF/MLMGTxvt+2CMM454GomEkg8qK6WfEWvdUibmNzxZbfHjZ5PxMhXPX25ydtbn0Z8Lnt7t8+VuCVargVk3agmfWcIWgYhKVdoh2pE3lKqpskkgsqVr8A3yEw9ahoayUAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;github desktop use&quot;
        title=&quot;github desktop use&quot;
        src=&quot;/Note/static/d2e69e2f3ae6d649afdfbafd3c0ff3cd/fcda8/github-desktop-use.png&quot;
        srcset=&quot;/Note/static/d2e69e2f3ae6d649afdfbafd3c0ff3cd/12f09/github-desktop-use.png 148w,
/Note/static/d2e69e2f3ae6d649afdfbafd3c0ff3cd/e4a3f/github-desktop-use.png 295w,
/Note/static/d2e69e2f3ae6d649afdfbafd3c0ff3cd/fcda8/github-desktop-use.png 590w,
/Note/static/d2e69e2f3ae6d649afdfbafd3c0ff3cd/efc66/github-desktop-use.png 885w,
/Note/static/d2e69e2f3ae6d649afdfbafd3c0ff3cd/d9199/github-desktop-use.png 960w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;在浏览中输入域名访问网站&lt;/h2&gt;
&lt;p&gt;完成之后就可以在浏览器中输入&lt;a href=&quot;https://zyycode.github.io/&quot;&gt;https://zyycode.github.io/&lt;/a&gt;就可以查看你的博客了&lt;/p&gt;
&lt;h1&gt;Hexo进阶使用&lt;/h1&gt;
&lt;h2&gt;Hexo更改主题&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;我使用的是&lt;a href=&quot;http://theme-next.iissnan.com/&quot;&gt;Next主题&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;在&lt;code class=&quot;language-text&quot;&gt;Hexo主题&lt;/code&gt; 选择你喜欢的主题，可以选择 &lt;code class=&quot;language-text&quot;&gt;git&lt;/code&gt; 下载 或者直接克隆下载文件到你的 &lt;code class=&quot;language-text&quot;&gt;~\blog\themes&lt;/code&gt; 目录下,同时在 &lt;code class=&quot;language-text&quot;&gt;站点配置文件&lt;/code&gt; 中修改。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;theme: next&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;添加分类页面和标签页面&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ hexo new page categories
$ hexo new page tags&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;http://theme-next.iissnan.com/theme-settings.html#categories-page&quot;&gt;新建分类页面&lt;/a&gt;
&lt;a href=&quot;http://theme-next.iissnan.com/theme-settings.html#tags-page&quot;&gt;新建标签页面&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a href=&quot;http://theme-next.iissnan.com/third-party-services.html#local-search&quot;&gt;搜索功能&lt;/a&gt;&lt;/h2&gt;
&lt;h2&gt;&lt;a href=&quot;http://theme-next.iissnan.com/third-party-services.html#comment-system&quot;&gt;评论功能&lt;/a&gt;&lt;/h2&gt;
&lt;h2&gt;&lt;a href=&quot;http://theme-next.iissnan.com/theme-settings.html#reward&quot;&gt;赞赏功能&lt;/a&gt;&lt;/h2&gt;
&lt;h2&gt;&lt;a href=&quot;http://theme-next.iissnan.com/theme-settings.html#volunteer-404&quot;&gt;腾讯404工艺页面&lt;/a&gt;&lt;/h2&gt;</content:encoded></item><item><title><![CDATA[Shadowsocks Setup]]></title><description><![CDATA[搬瓦工服务器搭建与使用 花费了一天的时间来搭建搬瓦工服务器一家Shadowsocks的配置，主要过程为： 购买 搬瓦工服务器 国内镜像网站! 在服务器上使用一键安装Shadowsocks功能 客户端上安装Shadosocks软件 购买BandwagongHost…]]></description><link>https://zyycode.github.com/Note/shadowsocks-setup/</link><guid isPermaLink="false">https://zyycode.github.com/Note/shadowsocks-setup/</guid><pubDate>Fri, 20 Oct 2017 09:35:35 GMT</pubDate><content:encoded>&lt;h1&gt;搬瓦工服务器搭建与使用&lt;/h1&gt;
&lt;p&gt;花费了一天的时间来搭建搬瓦工服务器一家Shadowsocks的配置，主要过程为：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;购买 &lt;a href=&quot;https://bandwagonhost.com/&quot;&gt;搬瓦工服务器&lt;/a&gt; &lt;a href=&quot;http://banwagong.cn/&quot;&gt;国内镜像网站&lt;/a&gt;!&lt;/li&gt;
&lt;li&gt;在服务器上使用一键安装Shadowsocks功能&lt;/li&gt;
&lt;li&gt;客户端上安装Shadosocks软件&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- more --&gt;
&lt;h2&gt;购买BandwagongHost（俗称搬瓦工）服务器&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/8069b8e697f7c90e74fc8ffd1f2a4d7f/21482/bang-website.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 46.621621621621614%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACGklEQVQoz1WQW0iTYRjHv/u6qIhaRU6tqyLoTFBY0XWRYoZpdZOkJqIdkOwmvIigsh3U0pxGiZZEGFYz0E0qk7oogzC1KwMP29i+bbZp7vDreb+l6Ac/3uf0/7/P+2ndn0boHhyl68MP2pxfaO8f5nnfkPDNoNOVip/1fpX4O10ff+IcHKGma4jD9gFymz/T+X6Y11J7I2imPCvrBdNpKxvz7ZjyLJgL68k412Cc6Wfr2SJxprD1/AMyJTcX1JFeYMecbyNN2CDatbn32X6hEU01l7JJTA+UP2bfpRYj3yZDKj9ypY2j1zo4VPmU/WWt7CxuNmbTlK5Q6WzsLnGgZciNS1GbqObBiifk1LzkzO1XnLz5gj2lLWRVNrKjSLaWzZXJokbYLMZ7S8VwVfY9FlidXcuanFpWHL/DsaoOLtreUWTpMYzT5IlZFRZ2FdtYd8rGMp1oVp64K7+kAe1Gaz8GLW6uO1xUO9xGXF7XQ4n1LaU2J2V2J1WP+rj80M3VJhdVTb2Lc4pqQ+vmVvsAGv+/xPwsf0IBIuEgkZmg5FEp/oXYnBxRkupUNVQpwvxshJjU5yIzUokv2KDFEwkSiSTBUBiPz8/UtIdpwe8P4PF6mZycYtqTyvVgiFg8zsTEJGNjvxgf/83I6Kj0vamLYnG0ZDJpJKFwGK+IlNjn8+EVdF0XI/8y4mKoB4PoAZ2waNRMNJraPCHL/QOOFwetIOMKyQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;bang website&quot;
        title=&quot;bang website&quot;
        src=&quot;/Note/static/8069b8e697f7c90e74fc8ffd1f2a4d7f/fcda8/bang-website.png&quot;
        srcset=&quot;/Note/static/8069b8e697f7c90e74fc8ffd1f2a4d7f/12f09/bang-website.png 148w,
/Note/static/8069b8e697f7c90e74fc8ffd1f2a4d7f/e4a3f/bang-website.png 295w,
/Note/static/8069b8e697f7c90e74fc8ffd1f2a4d7f/fcda8/bang-website.png 590w,
/Note/static/8069b8e697f7c90e74fc8ffd1f2a4d7f/efc66/bang-website.png 885w,
/Note/static/8069b8e697f7c90e74fc8ffd1f2a4d7f/c83ae/bang-website.png 1180w,
/Note/static/8069b8e697f7c90e74fc8ffd1f2a4d7f/21482/bang-website.png 1350w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
购买时选择KVM架构的服务器，因为可以选择安装&lt;code class=&quot;language-text&quot;&gt;centos-6-x86_64-bbr&lt;/code&gt; 系统（默认安装，加速），同时还可以选择其他加速方式，两者的主要区别是：
OpenVZ advantages:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IPv6 support&lt;/li&gt;
&lt;li&gt;Better CPU performance
KVM advantages:&lt;/li&gt;
&lt;li&gt;Full virtualization&lt;/li&gt;
&lt;li&gt;Custom kernel support (BBR, etc)&lt;/li&gt;
&lt;li&gt;Docker support&lt;/li&gt;
&lt;li&gt;Better isolation&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Better network throughput
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/1b9c8f9d8b6197a6957db304967753b3/18c13/buy.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 58.10810810810811%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7EAAAOxAGVKw4bAAACp0lEQVQoz31S20sUcRQeekqLsAsI7V/Sa4+RBlKE2lNhKBYVlGa95KXQTLtoQUWi66Uewt31Eu5qu6W5uruuvpXrUxDBXtyd2Zn5zW0vX2d+k1AE/eBwvvPNzPf7zjkjJBI7+LadwDbF9x9JLEy+wcOWWgxePYfe1jo8amvEveZa9N9swINrZ9F9pQ4DbRfQ2XKGuHr03jiPHpu71YiBjosQ0rEapDZqkIycRmrtBBL+VqwHFxAL+rAR8CD6aQ4xO0JziIYcHA3NOjzVkeAscfOUZxBf8UOQVg7DiFbAXNuHzAcBylYT+CmXgRJQxL+n/B9OkMIuWPEqmNFKpP0CxNhlaDqgyRIsWSaswbJM6LoOw9A51jT2N2fanMZDMKJVKG/thxGpRIYLNsEwAV2VYZIg44IWf9kWsDFjjGe71v7guGDuiwvFzQNc0HYobZBDwxEsqCpkijK1b39gC5RKJch0kZ25q9+coijk1qCWV49Djx0hwQruMBu5xFtmeQmaKEJVHWdMZSTqYFVRnUyX7bWq0nO7FvLhaqjRo9BJcG+GrFCEoeVhKjIUU0KRambK0E1GuABFz3FOM1Uwg9wWybWe5ZcI4qoLIi0mt1KNn7TlfLwZWqkMy1BRpOErlsy3p1kqjILOtykbIuf0As3NYhznjRxMmiXfshY7Rg4PIh1wWpZEhvxuEmomjVw2DY0pECnLeRoBbT+bSXIut5uCLOU4xzE9F5TwIec/XKd2lwTszJzExHA/5txPEHo/itGBDqwtefH2eQ/mp14g6JuAe/AOwose4ro599E7jvHHdxFe8kHIbNYjs9WAbLwOqcgpfJ2/jpHOdkwP3cfiuxG87GvHst+Hsadd8LiHEfBO4VVvGz4veOF+1oXpsSH4PZN43Xcby4EZ/AK32itDzBHB0AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;buy&quot;
        title=&quot;buy&quot;
        src=&quot;/Note/static/1b9c8f9d8b6197a6957db304967753b3/fcda8/buy.png&quot;
        srcset=&quot;/Note/static/1b9c8f9d8b6197a6957db304967753b3/12f09/buy.png 148w,
/Note/static/1b9c8f9d8b6197a6957db304967753b3/e4a3f/buy.png 295w,
/Note/static/1b9c8f9d8b6197a6957db304967753b3/fcda8/buy.png 590w,
/Note/static/1b9c8f9d8b6197a6957db304967753b3/efc66/buy.png 885w,
/Note/static/1b9c8f9d8b6197a6957db304967753b3/18c13/buy.png 1005w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
点击购买就可以了,可以选择支付宝付款。购买成功之后会选择发送邮件到你注册时使用的邮箱中，具体信息可以登入到网站中查看
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/eee115b87d4c0d6dfb651f6351bd2315/54bf4/login.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 62.16216216216216%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7EAAAOxAGVKw4bAAACN0lEQVQoz32QX0hTYRjGv4u6iC66j2xiEC2rKU3NNC2a+6NSWtE22ZoEgtRSl2xT2rSiiAgig6Tlxcgo+mMREd11Fwh1YRH9IRGvgtKzc3bOzs7O3MbT980tbXNd/Hif7/me9+XlJQ5zDU6318Np1OOM1QSXpQbdrfXocxxBT+chOE21ONfVio4DOui3a1CnLUdDpQZNuq1o1G7G4doK3LmyC5Oj5bh/UQPyZsKHd/fsmHloxbepk5h71YXPj47i04MWfH9iwuyUCT+eGWk1Y+6FhWoLpsNteH7jBF6GevH6rovqNnwIt2D+rR9kImBEyL0Fkxd0CA+WITxUifHeTbhpJxhzEtw+tcwtqse7CXwd69BYXQFXZzPGrtnQVFeFjRvWo6qM4PHVgyCeHiuON2+Dw7KbooPNsANWw07YTTrKnlxdhbmaoofr2H5cchtga99Hh+6FpUGL4bN2kGGPG0HfeQS8HgQZVGfxDmCE1hE/e3tWoH7Q24/AYB98/e6svjw0gFH/8j8RBB5yTEJMKob98XwEkiT+40us0h7Wx7SY8xgkkUggk8kgnU4XIcsyRFFEKpUqmSmEsKmqqoINLkQQBCSX0kjRoKomoSaXSmbzELZBPB4vRlHodlHMfpkBz/2GqsSgyFEo1F8zn4PwPE/vEft7gzyyHEdkcQFPQ9fx9eN7iPxPRH7NQ6ILFGZXQziOy94pGo0WkfWlGDgugoVFDlxEoP7a2TzZgUywe5VipUH4b47xByAh8I5xwDVrAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;login&quot;
        title=&quot;login&quot;
        src=&quot;/Note/static/eee115b87d4c0d6dfb651f6351bd2315/fcda8/login.png&quot;
        srcset=&quot;/Note/static/eee115b87d4c0d6dfb651f6351bd2315/12f09/login.png 148w,
/Note/static/eee115b87d4c0d6dfb651f6351bd2315/e4a3f/login.png 295w,
/Note/static/eee115b87d4c0d6dfb651f6351bd2315/fcda8/login.png 590w,
/Note/static/eee115b87d4c0d6dfb651f6351bd2315/efc66/login.png 885w,
/Note/static/eee115b87d4c0d6dfb651f6351bd2315/54bf4/login.png 1007w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/Note/static/92aca17364baa656f1eaeec0dadb8f68/58fee/login-server.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.891891891891895%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABpklEQVQoz4WQz2rUUBjF8wY+govqQsS2CG4EFUS0diPuVBSsbhR8JTduRBAqCuo4M05tpQWfQBk60U6Syd+b/8lk1P78bpyKxYWBw7n5Dufc71zj+tkF1i6f4tG1Mzy4usjD1SXWVpa5c+kkd1eWuH3xBDfOLXDz/LHDuHCcW3PcXz3NvSuLLB89gjHodfjYfcOnV0/ZXn/C9rPHbL54ztZGn6333X+wOecP/Q4D8W303jLov6PX7fD65TpG08xoZjOSJCOKYqq6gX3++/34uU9RlnxvGsy4YMeOiYIAw3F9RuMJpuViBzGWr0glvCgKYqVabqZTqqqklADl+1Sez7SqqCWsEs7zvIVpmhi26/Dl2y7DsUki5rQo2Yv2iJMY86uJZVsEQchUQuu6JkgU0e4Qf/iZwBlTRBEzaaj1NnDiTsQ0JgyD1qA3sWNbniDBciy0rlQ81yqUBCrfIxQtFF8ugVrT27eBYRiSZZkERmJU6P88/V2hlG11ZX1O07RFnommZ6Jpdj2vvfBPZcdxpFKAJ4Iv73PAeqb54HwIejbH3/poNOIXfz0qWNwjgCcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;login server&quot;
        title=&quot;login server&quot;
        src=&quot;/Note/static/92aca17364baa656f1eaeec0dadb8f68/fcda8/login-server.png&quot;
        srcset=&quot;/Note/static/92aca17364baa656f1eaeec0dadb8f68/12f09/login-server.png 148w,
/Note/static/92aca17364baa656f1eaeec0dadb8f68/e4a3f/login-server.png 295w,
/Note/static/92aca17364baa656f1eaeec0dadb8f68/fcda8/login-server.png 590w,
/Note/static/92aca17364baa656f1eaeec0dadb8f68/efc66/login-server.png 885w,
/Note/static/92aca17364baa656f1eaeec0dadb8f68/58fee/login-server.png 1051w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
在服务器中先选择安装系统，最好安装&lt;code class=&quot;language-text&quot;&gt;centos-6 x86系统&lt;/code&gt;，然后可以选择一件安装&lt;code class=&quot;language-text&quot;&gt;Shadowsocks Serve&lt;/code&gt;r,安装完之后会显示端口、密码等相关信息，这些信息是填写客户端（PC端）上面。&lt;/p&gt;
&lt;h2&gt;客户端安装Shadowsocks&lt;/h2&gt;
&lt;p&gt;windows版安装就和平时安装软件一样，点击下一步就可以，安装完之后填写服务器、密码、端口号相关信息就可以了。
下载地址：&lt;a href=&quot;https://github.com/shadowsocks/shadowsocks-windows/releases&quot;&gt;官方下载页&lt;/a&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 458px;&quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 78.37837837837837%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACvElEQVQ4y3VTSW/TYBD1r+PMD4AzEgd+ERIgLpyKhOCABC2lTYOdxnHsJHabpF4SL/GSfWsq5zHzJQ5VWyw9ffubNzPPUqVaRblchmVdYQsc8PDL8xzb7fZJ8Defz7FeryF12m1kaYosGYhxmGVIkwSDKEQSxzD0OrxeXzwYj8eYTCaYTqdi5PV98J708/QcNcOCoupQag2U5CqtTYRxgjAMoVIGum4gGgyQpgkiChTRfhRFGA6HGI1GAhkJ4VF68bGNlx+u8fpTG2+ObDx/b+PZWwevjgKM6IFlWTg7O0O9riNJYniugy5l5Xke5osFFnscCDteCDdMYHY9DIZTzDfAaJUjna1FCQzDwMnJMawrC34QCtWr1UqAUyyQ0l1B+Lj8uyJv8ztSlIrIruui2Wyi071Br+9TygHMRh0zquVsNhM4KMz/07XNhgkTTOkyN6fRaMA0m2gQsUFzWZYRU135TkznXFNujFQQPCS8u9sTkoowCKBpGro3N1BVFdXLS1Lcgm07BBudTgeO4+y6vCN4QuGekNNhJaZpipSWy+UO1Ai20qOm3CcplBYK+RJ3VlFkkWqv1xOKi7oxYYED4X2iPP9HvNlsRFPYOlwfrlOaZgffPTR14UmpTZ5qtloI9mbVySYmeS+guhVRi0esjsF7TMDnbBcGz0VT6nUNpdKFKG7g++K/lhVFpFeQjZiQ5qpaxQWd+35fGJ73F/ta8j0mlRSlgvNSGbbjIqOo69sNbgnjyRRDVnIPYRiJTCakktPnIGyr+WJJwYlwyH+K1cTlnwv4no0sDmE1dBiaijjsYzGlrs7GAuv5WAQxnRC/5Rr0tgc3SOB1r9HUa0gHobgvHVev8OWUUml6qLQD/KiYtFZRbnnQnAR1J6Uxhe6mqHRTfFV7ePe9is+KjV9mhNPaNb6da5AtH5qd4C/RmqQ20ibdfQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;ss&quot;
        title=&quot;ss&quot;
        src=&quot;/Note/static/1c005e7e89715598694eed9674121a6c/f7a31/ss.png&quot;
        srcset=&quot;/Note/static/1c005e7e89715598694eed9674121a6c/12f09/ss.png 148w,
/Note/static/1c005e7e89715598694eed9674121a6c/e4a3f/ss.png 295w,
/Note/static/1c005e7e89715598694eed9674121a6c/f7a31/ss.png 458w&quot;
        sizes=&quot;(max-width: 458px) 100vw, 458px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item></channel></rss>